<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.13" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.49" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://vuepress-theme-hope-docs-demo.netlify.app/E-utilities_zh-CN/E-utilities_zh-CN/06-E-utilities%20on%20the%20Unix%20Command%20Line_zh-CN.html"><meta property="og:site_name" content="E-utilities 汉化文档"><meta property="og:title" content="Entrez Direct：在 Unix 命令行上使用 E-utilities"><meta property="og:description" content="Entrez Direct：在 Unix 命令行上使用 E-utilities Jonathan Kans 博士 作者信息和所属机构 作者 Jonathan Kans 博士！通讯作者1. 所属机构 1 NCBI 电子邮件：vog.hin.mln.ibcn@snak 通讯作者 通讯作者。 创建日期：2013 年 4 月 23 日；最后更新日期：2024 ..."><meta property="og:type" content="article"><meta property="og:image" content="https://www.ncbi.nlm.nih.gov/corehtml/pmc/pmcgifs/corrauth.gif"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-07-10T06:43:03.000Z"><meta property="article:author" content="WhyLIM"><meta property="article:modified_time" content="2024-07-10T06:43:03.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Entrez Direct：在 Unix 命令行上使用 E-utilities","image":["https://www.ncbi.nlm.nih.gov/corehtml/pmc/pmcgifs/corrauth.gif","https://www.ncbi.nlm.nih.gov/books/NBK179288/bin/chapter6-Image001.jpg"],"dateModified":"2024-07-10T06:43:03.000Z","author":[{"@type":"Person","name":"WhyLIM","url":"https://github.com/WhyLIM"}]}</script><title>Entrez Direct：在 Unix 命令行上使用 E-utilities | E-utilities 汉化文档</title><meta name="description" content="Entrez Direct：在 Unix 命令行上使用 E-utilities Jonathan Kans 博士 作者信息和所属机构 作者 Jonathan Kans 博士！通讯作者1. 所属机构 1 NCBI 电子邮件：vog.hin.mln.ibcn@snak 通讯作者 通讯作者。 创建日期：2013 年 4 月 23 日；最后更新日期：2024 ...">
    <link rel="preload" href="/E-utilities_zh-CN/assets/style-DZq-hVHB.css" as="style"><link rel="stylesheet" href="/E-utilities_zh-CN/assets/style-DZq-hVHB.css">
    <link rel="modulepreload" href="/E-utilities_zh-CN/assets/app-BSJRkk3t.js"><link rel="modulepreload" href="/E-utilities_zh-CN/assets/06-E-utilities on the Unix Command Line_zh-CN.html-BWW9U-Vc.js"><link rel="modulepreload" href="/E-utilities_zh-CN/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/E-utilities_zh-CN/assets/index.html-CH-nT_7U.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/portfolio.html-vRjQ5F7z.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/01-E-utilities Quick Start_EN.html-BfcPQfmP.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/02-A General Introduction to the E-utilities_EN.html-_Z553IWL.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/03-Sample Applications of the E-utilities_EN.html-CKxCg0ca.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/04-The E-utilities In-Depth_EN.html-BKDjPwV8.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/05-The E-utility Web Service (SOAP)_EN.html-D-zLwPXp.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/06-E-utilities on the Unix Command Line_EN.html-DrB6j5la.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/07-Entrez Direct Examples_EN.html-D1jebrOq.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/01-E-utilities Quick Start_zh-CN.html-Dl3UNGn-.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/02-A General Introduction to the E-utilities_zh-CN.html-DDSL21O6.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/03-Sample Applications of the E-utilities_zh-CN.html-C9ECTgQe.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/04-The E-utilities In-Depth_zh-CN.html-ChFmRDfY.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/05-The E-utility Web Service (SOAP)_zh-CN.html-D7DGMzKA.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/07-Entrez Direct Examples_zh-CN.html-DtxX__VL.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/404.html-B0pRHFRh.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/index.html-D7fj8AY5.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/index.html-Ceq-lghF.js" as="script"><link rel="prefetch" href="/E-utilities_zh-CN/assets/photoswipe.esm-GXRgw7eJ.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/E-utilities_zh-CN/"><img class="vp-nav-logo" src="https://theme-hope-assets.vuejs.press/logo.svg" alt><!----><span class="vp-site-name hide-in-pad">E-utilities 汉化文档</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/E-utilities_zh-CN/" aria-label="项目主页"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->项目主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/E-utilities_zh-CN/E-utilities_EN/" aria-label="英文文档副本"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-earth-americas" style=""></span><!--]-->英文文档副本<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/E-utilities_zh-CN/E-utilities_zh-CN/" aria-label="汉化文档"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-language" style=""></span><!--]-->汉化文档<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/WhyLIM/E-utilities_zh-CN" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/E-utilities_zh-CN/" aria-label="项目主页"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->项目主页<!----></a></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header clickable"><span class="font-icon icon fa-fw fa-sm fas fa-earth-americas" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/E-utilities_zh-CN/E-utilities_EN/" aria-label="E-utilities 英文文档"><!---->E-utilities 英文文档<!----></a><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/E-utilities_zh-CN/E-utilities_EN/01-E-utilities%20Quick%20Start_EN.html" aria-label="E-utilities Quick Start"><!---->E-utilities Quick Start<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/E-utilities_zh-CN/E-utilities_EN/02-A%20General%20Introduction%20to%20the%20E-utilities_EN.html" aria-label="A General Introduction to the E-utilities"><!---->A General Introduction to the E-utilities<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/E-utilities_zh-CN/E-utilities_EN/03-Sample%20Applications%20of%20the%20E-utilities_EN.html" aria-label="Sample Applications of the E-utilities"><!---->Sample Applications of the E-utilities<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/E-utilities_zh-CN/E-utilities_EN/04-The%20E-utilities%20In-Depth_EN.html" aria-label="The E-utilities In-Depth: Parameters, Syntax and More"><!---->The E-utilities In-Depth: Parameters, Syntax and More<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/E-utilities_zh-CN/E-utilities_EN/05-The%20E-utility%20Web%20Service%20(SOAP)_EN.html" aria-label="The E-utility Web Service (SOAP)"><!---->The E-utility Web Service (SOAP)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/E-utilities_zh-CN/E-utilities_EN/06-E-utilities%20on%20the%20Unix%20Command%20Line_EN.html" aria-label="Entrez Direct: E-utilities on the Unix Command Line"><!---->Entrez Direct: E-utilities on the Unix Command Line<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/E-utilities_zh-CN/E-utilities_EN/07-Entrez%20Direct%20Examples_EN.html" aria-label="Entrez Direct Examples"><!---->Entrez Direct Examples<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header clickable active"><span class="font-icon icon fa-fw fa-sm fas fa-language" style=""></span><a class="route-link route-link-active auto-link vp-sidebar-title no-external-link-icon" href="/E-utilities_zh-CN/E-utilities_zh-CN/" aria-label="E-utilities 汉化文档"><!---->E-utilities 汉化文档<!----></a><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/E-utilities_zh-CN/E-utilities_zh-CN/01-E-utilities%20Quick%20Start_zh-CN.html" aria-label="E-utilities 快速入门指南"><!---->E-utilities 快速入门指南<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/E-utilities_zh-CN/E-utilities_zh-CN/02-A%20General%20Introduction%20to%20the%20E-utilities_zh-CN.html" aria-label="E-utilities 概述"><!---->E-utilities 概述<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/E-utilities_zh-CN/E-utilities_zh-CN/03-Sample%20Applications%20of%20the%20E-utilities_zh-CN.html" aria-label="E-utilities 示例应用程序"><!---->E-utilities 示例应用程序<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/E-utilities_zh-CN/E-utilities_zh-CN/04-The%20E-utilities%20In-Depth_zh-CN.html" aria-label="E-utilities 深入：参数、语法等"><!---->E-utilities 深入：参数、语法等<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/E-utilities_zh-CN/E-utilities_zh-CN/05-The%20E-utility%20Web%20Service%20(SOAP)_zh-CN.html" aria-label="E-utility Web 服务（SOAP）"><!---->E-utility Web 服务（SOAP）<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/E-utilities_zh-CN/E-utilities_zh-CN/06-E-utilities%20on%20the%20Unix%20Command%20Line_zh-CN.html" aria-label="Entrez Direct：在 Unix 命令行上使用 E-utilities"><!---->Entrez Direct：在 Unix 命令行上使用 E-utilities<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/E-utilities_zh-CN/E-utilities_zh-CN/07-Entrez%20Direct%20Examples_zh-CN.html" aria-label="Entrez Direct 示例"><!---->Entrez Direct 示例<!----></a></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Entrez Direct：在 Unix 命令行上使用 E-utilities</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/WhyLIM" target="_blank" rel="noopener noreferrer">WhyLIM</a></span><span property="author" content="WhyLIM"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-07-10T06:43:03.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 82 分钟</span><meta property="timeRequired" content="PT82M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#入门指南">入门指南</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#介绍">介绍</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#安装">安装</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#快速开始">快速开始</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#编程访问">编程访问</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#导航功能">导航功能</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#构建多步骤查询">构建多步骤查询</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#在多行上编写命令">在多行上编写命令</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#辅助程序">辅助程序</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#通过导航进行发现">通过导航进行发现</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#检索-pubmed-报告">检索 PubMed 报告</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#检索序列报告">检索序列报告</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#检索-genbank-或-genpept-平面文件中的序列记录">检索 GenBank 或 GenPept 平面文件中的序列记录</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#搜索和过滤">搜索和过滤</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#限制查询结果">限制查询结果</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#按日期限制">按日期限制</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#通过标识符获取">通过标识符获取</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#读取大列表标识符">读取大列表标识符</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#索引字段">索引字段</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#按索引字段限定查询">按索引字段限定查询</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#检查中间结果">检查中间结果</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#组合独立查询">组合独立查询</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#结构化数据">结构化数据</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#xml-格式的优点">XML 格式的优点</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#将-xml-转换为表格">将 XML 转换为表格</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#格式自定义">格式自定义</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#元素变体">元素变体</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#探索控制">探索控制</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#顺序探索">顺序探索</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#嵌套探索">嵌套探索</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#将数据保存到变量中">将数据保存到变量中</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#条件执行">条件执行</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#后处理功能">后处理功能</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#查看-xml-层次结构">查看 XML 层次结构</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#代码嵌套比较">代码嵌套比较</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#复杂对象">复杂对象</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#作者探索">作者探索</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#日期选择">日期选择</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#pmid-提取">PMID 提取</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#异构数据">异构数据</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#递归定义">递归定义</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#其他-elink-选项">其他 Elink 选项</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#重新打包-xml-结果">重新打包 XML 结果</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#多步骤转换">多步骤转换</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#序列记录">序列记录</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#序列记录的-ncbi-数据模型">序列记录的 NCBI 数据模型</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#insdseq-xml-中的序列记录">INSDSeq XML 中的序列记录</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#生成限定符提取命令">生成限定符提取命令</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#蜗牛毒素肽序列">蜗牛毒素肽序列</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#表格内容">表格内容</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#使用-unix-命令和-edirect-脚本进行数据处理">使用 Unix 命令和 EDirect 脚本进行数据处理</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#使用-xtract-的-insdx-变体">使用 xtract 的-insdx 变体</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#缺少限定符的处理">缺少限定符的处理</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#序列坐标">序列坐标</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#基因位置">基因位置</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#坐标转换">坐标转换</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#基因记录">基因记录</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#区域中的基因">区域中的基因</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#基因序列">基因序列</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#外部数据">外部数据</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#查询外部服务">查询外部服务</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#xml-命名空间">XML 命名空间</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#自动-xtract-格式转换">自动 Xtract 格式转换</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#json-数组">JSON 数组</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#json-混合">JSON 混合</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#asn-1-转换">ASN.1 转换</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#表格到-xml">表格到 XML</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#csv-到-xml">CSV 到 XML</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#genbank-下载">GenBank 下载</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#genbank-到-xml">GenBank 到 XML</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#genpept-到-xml">GenPept 到 XML</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#本地-pubmed-缓存">本地 PubMed 缓存</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#随机访问存档">随机访问存档</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#本地搜索索引">本地搜索索引</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#自然语言处理">自然语言处理</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#跟踪引用链接">跟踪引用链接</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#快速扫描-pubmed">快速扫描 PubMed</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#用户指定的术语索引">用户指定的术语索引</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#按-xml-子集处理">按 XML 子集处理</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#标识符转换">标识符转换</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#与-entrez-的集成">与 Entrez 的集成</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#固态硬盘准备">固态硬盘准备</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#自动化">自动化</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#unix-shell-脚本">Unix Shell 脚本</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#合并相邻行的数据">合并相邻行的数据</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#脚本中的-entrez-direct-命令">脚本中的 Entrez Direct 命令</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#时间延迟">时间延迟</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#xargs-sh-循环">Xargs/Sh 循环</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#while-循环">While 循环</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#for-循环">For 循环</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#文件探索">文件探索</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#分组处理">分组处理</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#go-语言编程">Go 语言编程</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#basecount-go-程序">basecount.go 程序</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#basecount-go-代码审查">basecount.go 代码审查</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#go-依赖管理">Go 依赖管理</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#编译一个-go-项目">编译一个 Go 项目</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#python-集成">Python 集成</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#访问-ncbi-c-工具包">访问 NCBI C++工具包</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#其他示例">其他示例</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#附录">附录</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#命令行参数">命令行参数</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#einfo-数据">Einfo 数据</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#unix-实用程序">Unix 实用程序</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#发行说明">发行说明</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#获取更多信息">获取更多信息</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#公告邮件列表">公告邮件列表</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#参考文献">参考文献</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#文档">文档</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#公共领域声明">公共领域声明</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#获取帮助">获取帮助</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><h1 id="entrez-direct-在-unix-命令行上使用-e-utilities" tabindex="-1"><a class="header-anchor" href="#entrez-direct-在-unix-命令行上使用-e-utilities"><span>Entrez Direct：在 Unix 命令行上使用 E-utilities</span></a></h1><blockquote><p>Jonathan Kans 博士</p><p><a href="https://www.ncbi.nlm.nih.gov/books/NBK179288/#__NBK179288_ai__" target="_blank" rel="noopener noreferrer">作者信息和所属机构</a></p><p><strong>作者</strong></p><p>Jonathan Kans 博士！<a href="https://www.ncbi.nlm.nih.gov/corehtml/pmc/pmcgifs/corrauth.gif" target="_blank" rel="noopener noreferrer">通讯作者</a>1.</p><p><strong>所属机构</strong></p><p>1 NCBI</p><p>电子邮件：<a href="mailto:dev@null" target="_blank" rel="noopener noreferrer">vog.hin.mln.ibcn@snak</a></p><p><img src="https://www.ncbi.nlm.nih.gov/corehtml/pmc/pmcgifs/corrauth.gif" alt="通讯作者" loading="lazy"> 通讯作者。</p><p>创建日期：2013 年 4 月 23 日；最后更新日期：2024 年 5 月 9 日。</p><p><em>估计阅读时间：1 小时</em></p></blockquote><h2 id="入门指南" tabindex="-1"><a class="header-anchor" href="#入门指南"><span>入门指南</span></a></h2><h3 id="介绍" tabindex="-1"><a class="header-anchor" href="#介绍"><span>介绍</span></a></h3><p>Entrez Direct（EDirect）提供了从 Unix 终端窗口访问 NCBI 互联数据库（出版物、序列、结构、基因、变异、表达等）的方法。搜索术语作为命令行参数输入。通过使用 Unix 管道将各个操作连接起来构建多步查询。然后可以以多种格式检索选定的记录。</p><h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h3><p>EDirect 可以在 Unix 和 Macintosh 计算机上运行，并且可以在 Windows PC 上的 Cygwin Unix 仿真环境中运行。要安装 EDirect 软件，请打开终端窗口并执行以下两个命令之一：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://ftp.ncbi.nlm.nih.gov/entrez/entrezdirect/install-edirect.sh)&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -q</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://ftp.ncbi.nlm.nih.gov/entrez/entrezdirect/install-edirect.sh </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">-O</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -)&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这将下载一些脚本和几个预编译程序到用户的主目录中的&quot;edirect&quot;文件夹中。然后可能会打印出一个额外的命令，用于在用户的配置文件中更新 PATH 环境变量。编辑说明可能如下所示：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;export PATH=</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">HOME/edirect:</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">PATH&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/.bash_profile</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>为了方便，安装过程结束时会提示是否运行 PATH 更新命令。如果您希望运行它，请回答“y”并按回车键。如果 PATH 已经设置正确，或者您更喜欢手动进行编辑更改，只需按回车键。</p><p>安装完成后，运行以下命令以设置当前终端会话的 PATH：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">HOME</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">edirect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">PATH</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="快速开始" tabindex="-1"><a class="header-anchor" href="#快速开始"><span>快速开始</span></a></h3><p>edirect 文件夹中包含的 <strong>readme.pdf</strong> 文件包含本文件的高度简略版。它旨在向新用户传达最重要的要点，同时仍然提供最基本的必要细节。它还涵盖了几个 Entrez 生物数据库中的微妙问题，展示了外部数据源的集成，并简要介绍了脚本编写和编程。</p><p>完整的文档对基础主题进行了更深入的探索，特别是在复杂对象部分和按 Entrez 数据库组织的附加示例网页中。该文档还介绍了其他值得注意的主题，如标识符查找和序列坐标转换，并更详细地讨论了自动化。</p><h3 id="编程访问" tabindex="-1"><a class="header-anchor" href="#编程访问"><span>编程访问</span></a></h3><p>EDirect 通过 Entrez 编程实用工具接口连接到 Entrez。它支持通过索引术语搜索，查找预计算的邻居或链接，通过日期或类别过滤结果，以及下载记录摘要或报告。</p><p>导航程序（<strong>esearch</strong>，<strong>elink</strong>，<strong>efilter</strong> 和 <strong>efetch</strong>）通过小型结构化消息进行通信，可以通过 Unix 管道在操作之间隐式传递。消息包括当前数据库，因此在第一步之后不需要作为参数给出。</p><p>辅助程序（<strong>nquire</strong>，<strong>transmute</strong> 和 <strong>xtract</strong>）可以帮助消除编写自定义软件来回答临时问题的需求。查询可以在 EDirect 程序和 Unix 实用程序或脚本之间无缝移动，以执行无法完全在 Entrez 内完成的操作。</p><p>所有 EDirect 程序都设计用于处理大数据集。它们在幕后处理了许多技术细节（避免了 E-utilities 编程通常需要的学习曲线）。中间结果要么保存在 Entrez 历史服务器上，要么在隐藏消息中实例化。为了获得最佳性能，请从 NCBI 获取 API 密钥，并在您的。bash_profile 和。zshrc 配置文件中放置以下行：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> NCBI_API_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">unique_api_key</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>通过键入程序名称，然后在命令行上提供任何必需或可选参数来运行 Unix 程序。参数名称是以连字符（“<strong>‑</strong>”）字符开头的字母或单词。</p><p>每个程序都有一个 <strong>‑help</strong> 命令，可打印有关可用参数的详细信息。</p><h3 id="导航功能" tabindex="-1"><a class="header-anchor" href="#导航功能"><span>导航功能</span></a></h3><p>Esearch 使用索引字段中的术语执行新的 Entrez 搜索。它需要一个 <strong>‑db</strong> 参数来指定数据库名称，并使用 <strong>‑query</strong> 来指定搜索术语。对于 PubMed，没有字段限定符，服务器使用自动术语映射来通过翻译提供的查询来组成搜索策略：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;selective serotonin reuptake inhibitor&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>搜索术语也可以用括号括住的字段名称限定，以匹配指定索引中的内容：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nuccore</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;insulin [PROT] AND rodents [ORGN]&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Elink 查找数据库中的预计算邻居，或查找其他数据库中的相关记录：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -related</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -target</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gene</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Elink 还连接到 NIH 开放引文集合数据集，以查找引用选定 PubMed 文章的出版物，或关注 PubMed 记录的参考文献列表：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -cited</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -cites</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Efilter 限制先前查询的结果，并提供可在 esearch 中使用的快捷方式：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efilter</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -molecule</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> genomic</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -location</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> chloroplast</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -country</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sweden</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -mindate</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1985</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Efetch 以 <strong>‑format</strong> 指定的样式下载选定的记录或报告：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> abstract</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>无需编写脚本来循环处理小组记录，也无需编写代码在短暂的网络或服务器故障后重试，也无需在请求之间添加时间延迟。这些功能已内置于 EDirect 命令中。</p><h3 id="构建多步骤查询" tabindex="-1"><a class="header-anchor" href="#构建多步骤查询"><span>构建多步骤查询</span></a></h3><p>EDirect 允许单独描述各个操作，并通过使用竖线（“<strong>|</strong>”）Unix 管道符号将它们组合成多步骤查询：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;tn3 transposition immunity&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> medline</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="在多行上编写命令" tabindex="-1"><a class="header-anchor" href="#在多行上编写命令"><span>在多行上编写命令</span></a></h3><p>通过在按回车键之前立即键入反斜杠（“****”）Unix 转义字符，可以将查询继续到下一行。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;opsin gene conversion&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>继续查询查找原始论文的预计算邻居，接着链接到相关文章中发布的所有蛋白质序列，然后将这些序列限制为 GenBank 的啮齿动物分部，最后以 FASTA 格式检索记录：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -related</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -target</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> protein</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efilter</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -division</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rod</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> fasta</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在大多数现代版本的 Unix 中，竖线管道符号还允许查询继续到下一行，而无需额外的反斜杠。</p><h3 id="辅助程序" tabindex="-1"><a class="header-anchor" href="#辅助程序"><span>辅助程序</span></a></h3><p>Nquire 通过从命令行参数构造的 URL 从远程服务器检索数据：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://icite.od.nih.gov</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> api/pubs</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pmids</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2539356</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Transmute 将连接的 JSON 对象流或其他结构化格式转换为 XML：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>transmute -j2x |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Xtract 可以使用航路点导航复杂的 XML 层次结构，并按字段名获取数据值：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> data</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cited_by</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>生成的输出可以由 Unix 实用程序或脚本进行后处理：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">fmt</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -w</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> sort</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -V</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> uniq</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="通过导航进行发现" tabindex="-1"><a class="header-anchor" href="#通过导航进行发现"><span>通过导航进行发现</span></a></h3><p>PubMed 相关文章通过使用标题、摘要和医学主题词（MeSH 词）的统计文本检索算法计算得出。论文之间的连接可以用于发现。一个例子是找到维生素 A 生物合成途径中的最后一个酶促步骤。</p><p>植物中的番茄红素环化酶将番茄红素转化为β-胡萝卜素，这是维生素 A 的直接生化前体。对该酶的初步搜索发现了 303 篇文章。查找预计算的邻居返回了 18943 篇论文，其中一些可能会讨论途径中的其他酶：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;lycopene cyclase&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -related</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>已知β-胡萝卜素是一种必需营养素，需要在食草动物的饮食中。 这表明番茄红素环化酶不存在于动物中（由于水平基因转移造成的少数例外），而负责将β-胡萝卜素转化为维生素 A 的酶不存在于植物中。</p><p>应用此知识，通过将出版物邻居链接到其相关的蛋白质记录，然后使用 NCBI 分类法过滤这些候选者，可以帮助找到所需的酶。</p><p>从 PubMed 链接到蛋白质数据库可以找到 520,222 个蛋白质序列：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -target</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> protein</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>将其限制为小鼠可排除植物、真菌和细菌，从而消除了早期的酶：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efilter</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -organism</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mouse</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -source</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> refseq</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这匹配了 26 个序列，足够通过检索单个记录进行检查：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> fasta</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如预期的那样，结果包括将β-胡萝卜素分裂为两分子视黄醛的酶：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>...</span></span>
<span class="line"><span>&gt;NP_067461.2 beta,beta-carotene 15,15&#39;-dioxygenase isoform 1 [Mus musculus]</span></span>
<span class="line"><span>MEIIFGQNKKEQLEPVQAKVTGSIPAWLQGTLLRNGPGMHTVGESKYNHWFDGLALLHSFSIRDGEVFYR</span></span>
<span class="line"><span>SKYLQSDTYIANIEANRIVVSEFGTMAYPDPCKNIFSKAFSYLSHTIPDFTDNCLINIMKCGEDFYATTE</span></span>
<span class="line"><span>TNYIRKIDPQTLETLEKVDYRKYVAVNLATSHPHYDEAGNVLNMGTSVVDKGRTKYVIFKIPATVPDSKK</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="检索-pubmed-报告" tabindex="-1"><a class="header-anchor" href="#检索-pubmed-报告"><span>检索 PubMed 报告</span></a></h3><p>将 PubMed 查询结果传递给 efetch 并指定“abstract”格式：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;lycopene cyclase&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> abstract</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>返回一组可以阅读的报告：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>...</span></span>
<span class="line"><span>85. PLoS One. 2013;8(3):e58144. doi: 10.1371/journal.pone.0058144. Epub ...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Levels of lycopene β-cyclase 1 modulate carotenoid gene expression and</span></span>
<span class="line"><span>accumulation in Daucus carota.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Moreno JC(1), Pizarro L, Fuentes P, Handford M, Cifuentes V, Stange C.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Author information:</span></span>
<span class="line"><span>(1)Departamento de Biología, Facultad de Ciencias, Universidad de Chile,</span></span>
<span class="line"><span>Santiago, Chile.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Plant carotenoids are synthesized and accumulated in plastids through a</span></span>
<span class="line"><span>highly regulated pathway. Lycopene β-cyclase (LCYB) is a key enzyme</span></span>
<span class="line"><span>involved directly in the synthesis of α-carotene and β-carotene through</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果使用“medline”格式：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;lycopene cyclase&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> medline</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>输出可以输入到常见的书目管理软件包中：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>...</span></span>
<span class="line"><span>PMID- 23555569</span></span>
<span class="line"><span>OWN - NLM</span></span>
<span class="line"><span>STAT- MEDLINE</span></span>
<span class="line"><span>DA  - 20130404</span></span>
<span class="line"><span>DCOM- 20130930</span></span>
<span class="line"><span>LR  - 20131121</span></span>
<span class="line"><span>IS  - 1932-6203 (Electronic)</span></span>
<span class="line"><span>IS  - 1932-6203 (Linking)</span></span>
<span class="line"><span>VI  - 8</span></span>
<span class="line"><span>IP  - 3</span></span>
<span class="line"><span>DP  - 2013</span></span>
<span class="line"><span>TI  - Levels of lycopene beta-cyclase 1 modulate carotenoid gene expression</span></span>
<span class="line"><span>    and accumulation in Daucus carota.</span></span>
<span class="line"><span>PG  - e58144</span></span>
<span class="line"><span>LID - 10.1371/journal.pone.0058144 [doi]</span></span>
<span class="line"><span>AB  - Plant carotenoids are synthesized and accumulated in plastids</span></span>
<span class="line"><span>    through a highly regulated pathway. Lycopene beta-cyclase (LCYB) is a</span></span>
<span class="line"><span>    key enzyme involved directly in the synthesis of alpha-carotene and</span></span>
<span class="line"><span>    ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="检索序列报告" tabindex="-1"><a class="header-anchor" href="#检索序列报告"><span>检索序列报告</span></a></h3><p>可以以 FASTA 格式下载核苷酸和蛋白质记录：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> protein</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;lycopene cyclase&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> fasta</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>它包括一个定义行，后跟序列：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>...</span></span>
<span class="line"><span>&gt;gi|735882|gb|AAA81880.1| lycopene cyclase [Arabidopsis thaliana]</span></span>
<span class="line"><span>MDTLLKTPNKLDFFIPQFHGFERLCSNNPYPSRVRLGVKKRAIKIVSSVVSGSAALLDLVPETKKENLDF</span></span>
<span class="line"><span>ELPLYDTSKSQVVDLAIVGGGPAGLAVAQQVSEAGLSVCSIDPSPKLIWPNNYGVWVDEFEAMDLLDCLD</span></span>
<span class="line"><span>TTWSGAVVYVDEGVKKDLSRPYGRVNRKQLKSKMLQKCITNGVKFHQSKVTNVVHEEANSTVVCSDGVKI</span></span>
<span class="line"><span>QASVVLDATGFSRCLVQYDKPYNPGYQVAYGIIAEVDGHPFDVDKMVFMDWRDKHLDSYPELKERNSKIP</span></span>
<span class="line"><span>TFLYAMPFSSNRIFLEETSLVARPGLRMEDIQERMAARLKHLGINVKRIEEDERCVIPMGGPLPVLPQRV</span></span>
<span class="line"><span>VGIGGTAGMVHPSTGYMVARTLAAAPIVANAIVRYLGSPSSNSLRGDQLSAEVWRDLWPIERRRQREFFC</span></span>
<span class="line"><span>FGMDILLKLDLDATRRFFDAFFDLQPHYWHGFLSSRLFLPELLVFGLSLFSHASNTSRLEIMTKGTVPLA</span></span>
<span class="line"><span>KMINNLVQDRD</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="检索-genbank-或-genpept-平面文件中的序列记录" tabindex="-1"><a class="header-anchor" href="#检索-genbank-或-genpept-平面文件中的序列记录"><span>检索 GenBank 或 GenPept 平面文件中的序列记录</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> protein</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;lycopene cyclase&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gp</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>这些文件包含注释特定序列区域的特征：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>...</span></span>
<span class="line"><span>LOCUS       AAA81880                 501 aa            linear   PLN ...</span></span>
<span class="line"><span>DEFINITION  lycopene cyclase [Arabidopsis thaliana].</span></span>
<span class="line"><span>ACCESSION   AAA81880</span></span>
<span class="line"><span>VERSION     AAA81880.1  GI:735882</span></span>
<span class="line"><span>DBSOURCE    locus ATHLYC accession L40176.1</span></span>
<span class="line"><span>KEYWORDS    .</span></span>
<span class="line"><span>SOURCE      Arabidopsis thaliana (thale cress)</span></span>
<span class="line"><span>ORGANISM    Arabidopsis thaliana</span></span>
<span class="line"><span>            Eukaryota; Viridiplantae; Streptophyta; Embryophyta;</span></span>
<span class="line"><span>            Tracheophyta; Spermatophyta; Magnoliophyta; eudicotyledons;</span></span>
<span class="line"><span>            Brassicales; Brassicaceae; Camelineae; Arabidopsis.</span></span>
<span class="line"><span>REFERENCE   1  (residues 1 to 501)</span></span>
<span class="line"><span>AUTHORS     Scolnik,P.A. and Bartley,G.E.</span></span>
<span class="line"><span>TITLE       Nucleotide sequence of lycopene cyclase (GenBank L40176) from</span></span>
<span class="line"><span>            Arabidopsis (PGR95-019)</span></span>
<span class="line"><span>JOURNAL     Plant Physiol. 108 (3), 1343 (1995)</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>FEATURES             Location/Qualifiers</span></span>
<span class="line"><span>   source          1..501</span></span>
<span class="line"><span>                   /organism=&quot;Arabidopsis thaliana&quot;</span></span>
<span class="line"><span>                   /db_xref=&quot;taxon:3702&quot;</span></span>
<span class="line"><span>   Protein         1..501</span></span>
<span class="line"><span>                   /product=&quot;lycopene cyclase&quot;</span></span>
<span class="line"><span>   transit_peptide 1..80</span></span>
<span class="line"><span>   mat_peptide     81..501</span></span>
<span class="line"><span>                   /product=&quot;lycopene cyclase&quot;</span></span>
<span class="line"><span>   CDS             1..501</span></span>
<span class="line"><span>                   /gene=&quot;LYC&quot;</span></span>
<span class="line"><span>                   /coded_by=&quot;L40176.1:2..1507&quot;</span></span>
<span class="line"><span>ORIGIN</span></span>
<span class="line"><span>      1 mdtllktpnk ldffipqfhg ferlcsnnpy psrvrlgvkk raikivssvv sgsaalldlv</span></span>
<span class="line"><span>     61 petkkenldf elplydtsks qvvdlaivgg gpaglavaqq vseaglsvcs idpspkliwp</span></span>
<span class="line"><span>    121 nnygvwvdef eamdlldcld ttwsgavvyv degvkkdlsr pygrvnrkql kskmlqkcit</span></span>
<span class="line"><span>    181 ngvkfhqskv tnvvheeans tvvcsdgvki qasvvldatg fsrclvqydk pynpgyqvay</span></span>
<span class="line"><span>    241 giiaevdghp fdvdkmvfmd wrdkhldsyp elkernskip tflyampfss nrifleetsl</span></span>
<span class="line"><span>    301 varpglrmed iqermaarlk hlginvkrie edercvipmg gplpvlpqrv vgiggtagmv</span></span>
<span class="line"><span>    361 hpstgymvar tlaaapivan aivrylgsps snslrgdqls aevwrdlwpi errrqreffc</span></span>
<span class="line"><span>    421 fgmdillkld ldatrrffda ffdlqphywh gflssrlflp ellvfglslf shasntsrle</span></span>
<span class="line"><span>    481 imtkgtvpla kminnlvqdr d</span></span>
<span class="line"><span>//</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="搜索和过滤" tabindex="-1"><a class="header-anchor" href="#搜索和过滤"><span>搜索和过滤</span></a></h2><h3 id="限制查询结果" tabindex="-1"><a class="header-anchor" href="#限制查询结果"><span>限制查询结果</span></a></h3><p>当前的结果可以通过在 Entrez 中进一步搜索术语进行细化（在蛋白质数据库中限制 BLAST 邻居到分类子集时很有用）：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;opsin gene conversion&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -related</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efilter</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;tetrachromacy&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="按日期限制" tabindex="-1"><a class="header-anchor" href="#按日期限制"><span>按日期限制</span></a></h3><p>结果也可以按日期过滤。例如，以下语句：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efilter</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -days</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 60</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -datetype</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PDAT</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efilter</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -mindate</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efilter</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -maxdate</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1985</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efilter</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -mindate</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1990</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -maxdate</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1999</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>分别将结果限制为过去两个月内发布的文章、自 2000 年开始的文章、到 1985 年底为止的文章或 1990 年代的文章。YYYY/MM 和 YYYY/MM/DD 日期格式也被接受。</p><h3 id="通过标识符获取" tabindex="-1"><a class="header-anchor" href="#通过标识符获取"><span>通过标识符获取</span></a></h3><p>Efetch 和 elink 可以在 <strong>-id</strong> 参数中接受一组数字标识符或登录号：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 7252148,1937004</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> xml</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nuccore</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1121073309</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> acc</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> protein</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 3OQZ_a</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> fasta</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bioproject</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PRJNA257197</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docsum</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pmc</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PMC209839</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> medline</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2539356</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -cites</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>无需先前的 esearch 命令。</p><p>非整数登录号将通过内部搜索进行查找，使用数据库的适当字段：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bioproject</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;PRJNA257197 [PRJA]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> uid</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>大多数数据库使用 [ACCN] 字段进行标识符查找，但有一些例外：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">annotinfo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      [ASAC]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">assembly</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">       [ASAC]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">bioproject</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     [PRJA]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">books</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">          [AID]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">clinvar</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        [VACC]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">gds</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            [ALL]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">genome</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">         [PRJA]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">geoprofiles</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    [NAME]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">gtr</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            [GTRACC]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mesh</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">           [MHUI]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nuccore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        [ACCN] 或 [PACC]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">pcsubstance</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    [SRID]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">snp</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            [RS] 或 [SS]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>（对于 -db pmc，它只是从整数标识符中删除任何 &quot;PMC&quot; 前缀。）</p><p>为了向后兼容，<strong>esummary</strong> 是 esearch -format docsum 的快捷方式：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esummary</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bioproject</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PRJNA257197</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esummary</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sra</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SRR5437876</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="读取大列表标识符" tabindex="-1"><a class="header-anchor" href="#读取大列表标识符"><span>读取大列表标识符</span></a></h3><p>Efetch 和 elink 还可以通过 stdin 读取大列表标识符或登录号：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;file_of_identifiers.txt&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docsum</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>或从由 <strong>-input</strong> 参数指示的文件中读取：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -input</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;file_of_identifiers.txt&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docsum</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如上所述，无需使用脚本将标识符拆分为较小的组或在各个请求之间添加时间延迟，因为这些功能已内置在 EDirect 中。</p><h3 id="索引字段" tabindex="-1"><a class="header-anchor" href="#索引字段"><span>索引字段</span></a></h3><p><strong>einfo</strong> 命令可以报告为每个数据库索引的字段和链接：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">einfo</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> protein</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -fields</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这将返回一个为蛋白质索引的字段缩写和名称的表格：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>ACCN    Accession</span></span>
<span class="line"><span>ALL     All Fields</span></span>
<span class="line"><span>ASSM    Assembly</span></span>
<span class="line"><span>AUTH    Author</span></span>
<span class="line"><span>BRD     Breed</span></span>
<span class="line"><span>CULT    Cultivar</span></span>
<span class="line"><span>DIV     Division</span></span>
<span class="line"><span>ECNO    EC/RN Number</span></span>
<span class="line"><span>FILT    Filter</span></span>
<span class="line"><span>FKEY    Feature key</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="按索引字段限定查询" tabindex="-1"><a class="header-anchor" href="#按索引字段限定查询"><span>按索引字段限定查询</span></a></h3><p>在 esearch 或 efilter 中的查询术语可以通过输入索引字段缩写在括号中进行限定。布尔运算符和括号也可以在查询表达式中使用，以进行更复杂的搜索。</p><p>PubMed 查询中常用的字段包括：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[AFFL]    Affiliation           [LANG]    Language</span></span>
<span class="line"><span>[ALL]     All Fields            [MAJR]    MeSH Major Topic</span></span>
<span class="line"><span>[AUTH]    Author                [SUBH]    MeSH Subheading</span></span>
<span class="line"><span>[FAUT]    Author - First        [MESH]    MeSH Terms</span></span>
<span class="line"><span>[LAUT]    Author - Last         [PTYP]    Publication Type</span></span>
<span class="line"><span>[CRDT]    Date - Create         [WORD]    Text Word</span></span>
<span class="line"><span>[PDAT]    Date - Publication    [TITL]    Title</span></span>
<span class="line"><span>[FILT]    Filter                [TIAB]    Title/Abstract</span></span>
<span class="line"><span>[JOUR]    Journal               [UID]     UID</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>一个限定查询示例如下：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&quot;Tager HS [AUTH] AND glucagon [TIAB]&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>限制 PubMed 搜索结果到子集的过滤器包括：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>humans [MESH]</span></span>
<span class="line"><span>pharmacokinetics [MESH]</span></span>
<span class="line"><span>chemically induced [SUBH]</span></span>
<span class="line"><span>all child [FILT]</span></span>
<span class="line"><span>english [FILT]</span></span>
<span class="line"><span>freetext [FILT]</span></span>
<span class="line"><span>has abstract [FILT]</span></span>
<span class="line"><span>historical article [FILT]</span></span>
<span class="line"><span>randomized controlled trial [FILT]</span></span>
<span class="line"><span>clinical trial, phase ii [PTYP]</span></span>
<span class="line"><span>review [PTYP]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>序列数据库使用一组不同的搜索字段进行索引，包括：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[ACCN]    登录号         [MLWT]    分子量</span></span>
<span class="line"><span>[ALL]     所有字段       [ORGN]    生物体</span></span>
<span class="line"><span>[AUTH]    作者           [PACC]    主登录号</span></span>
<span class="line"><span>[GPRJ]    生物项目       [PROP]    属性</span></span>
<span class="line"><span>[BIOS]    生物样本       [PROT]    蛋白质名称</span></span>
<span class="line"><span>[ECNO]    EC/RN 编号     [SQID]    序列 ID 字符串</span></span>
<span class="line"><span>[FKEY]    功能键         [SLEN]    序列长度</span></span>
<span class="line"><span>[FILT]    过滤器         [SUBS]    物质名称</span></span>
<span class="line"><span>[GENE]    基因名称       [WORD]    文本词</span></span>
<span class="line"><span>[JOUR]    期刊           [TITL]    标题</span></span>
<span class="line"><span>[KYWD]    关键词         [UID]     唯一标识符</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>蛋白质数据库中的示例查询如下：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&quot;alcohol dehydrogenase [PROT] NOT (bacteria [ORGN] OR fungi [ORGN])&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>序列数据库中的子集过滤器示例包括：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>mammalia [ORGN]</span></span>
<span class="line"><span>mammalia [ORGN:noexp]</span></span>
<span class="line"><span>txid40674 [ORGN]</span></span>
<span class="line"><span>cds [FKEY]</span></span>
<span class="line"><span>lacz [GENE]</span></span>
<span class="line"><span>beta galactosidase [PROT]</span></span>
<span class="line"><span>protein snp [FILT]</span></span>
<span class="line"><span>reviewed [FILT]</span></span>
<span class="line"><span>country united kingdom glasgow [TEXT]</span></span>
<span class="line"><span>biomol genomic [PROP]</span></span>
<span class="line"><span>dbxref flybase [PROP]</span></span>
<span class="line"><span>gbdiv phg [PROP]</span></span>
<span class="line"><span>phylogenetic study [PROP]</span></span>
<span class="line"><span>sequence from mitochondrion [PROP]</span></span>
<span class="line"><span>src cultivar [PROP]</span></span>
<span class="line"><span>srcdb refseq validated [PROP]</span></span>
<span class="line"><span>150:200 [SLEN]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>（计算的分子量（MLWT）字段仅在蛋白质（和结构）中索引，而不是在核苷酸中。）</p><p>有关几个 Entrez 数据库可用的过滤器快捷方式的列表，请参见 <strong>efilter ‑help</strong>。</p><h3 id="检查中间结果" tabindex="-1"><a class="header-anchor" href="#检查中间结果"><span>检查中间结果</span></a></h3><p>EDirect 导航功能生成一个包含相关字段（数据库、网络环境、查询键和记录数）的自定义 XML 消息，可以由流水线中的下一个命令读取。EDirect 可能会将中间结果存储在 Entrez 历史服务器上，或在 XML 消息中实例化它们。</p><p>可以检查查询中每一步的结果，以确认预期行为，然后再添加下一步。ENTREZ_DIRECT 对象中的 Count 字段包含上一步返回的记录数。查询成功的一个好标志是合理（非零）的计数值。例如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> protein</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;tryptophan synthase alpha chain [PROT]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efilter</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;28000:30000 [MLWT]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -target</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> structure</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efilter</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;0:2 [RESO]&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>生成：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;ENTREZ_DIRECT&gt;</span></span>
<span class="line"><span>  &lt;Db&gt;structure&lt;/Db&gt;</span></span>
<span class="line"><span>  &lt;WebEnv&gt; MCID_5fac27e119f45d4eca20b0e6&lt;/WebEnv&gt;</span></span>
<span class="line"><span>  &lt;QueryKey&gt;32&lt;/QueryKey&gt;</span></span>
<span class="line"><span>  &lt;Count&gt;58&lt;/Count&gt;</span></span>
<span class="line"><span>  &lt;Step&gt;4&lt;/Step&gt;</span></span>
<span class="line"><span>&lt;/ENTREZ_DIRECT&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中包含 58 个符合指定分子量范围并具有所需（X 射线晶体学）原子位置分辨率的蛋白质结构。</p><p>（QueryKey 值不同于 Step，因为 elink 命令将其查询拆分为较小的块，以避免服务器截断限制和超时错误。）</p><h3 id="组合独立查询" tabindex="-1"><a class="header-anchor" href="#组合独立查询"><span>组合独立查询</span></a></h3><p>可以执行独立的 esearch、elink 和 efilter 操作，然后使用历史服务器的“<strong>#</strong>”约定表示查询键号在末尾进行组合。（要组合的步骤必须在同一个数据库中。）后续的 esearch 命令可以使用 ‑db 参数覆盖从前一步传递的数据库。（将查询连接在一起是必要的，以共享相同的历史线程。）</p><p>由于 elink 将大型查询拆分为多个较小的链接请求，因此无法预先预测新的 QueryKey 值。使用 ‑label 参数可以解决此问题。标签值前缀为 &quot;#&quot; 符号，并在最终搜索中括在括号内。例如，查询：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> protein</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;amyloid* [PROT]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -target</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -label</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> prot_cit</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gene</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;apo* [GENE]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -target</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -label</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gene_cit</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;(#prot_cit) AND (#gene_cit)&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docsum</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> DocumentSummary</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Title</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用截断搜索（输入单词开头并跟随星号）返回与淀粉样蛋白序列和载脂蛋白基因记录相关联的论文标题：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>23962925    Genome analysis reveals insights into physiology and ...</span></span>
<span class="line"><span>23959870    Low levels of copper disrupt brain amyloid-β homeostasis ...</span></span>
<span class="line"><span>23371554    Genomic diversity and evolution of the head crest in the ...</span></span>
<span class="line"><span>23251661    Novel genetic loci identified for the pathophysiology of ...</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="结构化数据" tabindex="-1"><a class="header-anchor" href="#结构化数据"><span>结构化数据</span></a></h2><h3 id="xml-格式的优点" tabindex="-1"><a class="header-anchor" href="#xml-格式的优点"><span>XML 格式的优点</span></a></h3><p>能够以结构化可扩展标记语言（XML）格式获取 Entrez 记录，并轻松提取基础数据，使用户能够提出现有分析软件未解决的新问题。</p><p>XML 的优点在于信息位于特定位置，具有良好定义的数据层次结构。访问按名称分隔的各个数据单元，例如：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;PubDate&gt;2013&lt;/PubDate&gt;</span></span>
<span class="line"><span>&lt;Source&gt;PLoS One&lt;/Source&gt;</span></span>
<span class="line"><span>&lt;Volume&gt;8&lt;/Volume&gt;</span></span>
<span class="line"><span>&lt;Issue&gt;3&lt;/Issue&gt;</span></span>
<span class="line"><span>&lt;Pages&gt;e58144&lt;/Pages&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>需要匹配相同的一般模式，只需更改元素名称。这比从长而复杂的字符串中解析单元简单得多：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>1. PLoS One. 2013;8(3):e58144 ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>XML 的缺点是数据提取通常需要编程。但 EDirect 依靠 XML 值表示的通用模式，提供了一种简化的 XML 数据解释方法。</p><h3 id="将-xml-转换为表格" tabindex="-1"><a class="header-anchor" href="#将-xml-转换为表格"><span>将 XML 转换为表格</span></a></h3><p>xtract 程序使用命令行参数来指导 XML 格式数据的选择性转换。它允许记录检测、路径探索、元素选择、条件处理和报告格式的独立控制。</p><p><strong>‑pattern</strong> 命令按对象名称将 XML 流划分为单独的记录，分别处理。在每个记录中，<strong>‑element</strong> 命令执行深入优先搜索，以按字段名称查找数据内容。不需要对象的显式路径。</p><p>默认情况下，-pattern 参数将结果划分为行，而数据放置到列中则由 -element 控制，以创建制表符分隔的表格。</p><h3 id="格式自定义" tabindex="-1"><a class="header-anchor" href="#格式自定义"><span>格式自定义</span></a></h3><p>格式化命令允许对输出进行广泛的自定义。行间的换行符由 <strong>‑ret</strong> 更改，而 -element 列间的制表符由 <strong>‑tab</strong> 修改。相同元素的多个实例使用 <strong>‑sep</strong> 区分，其分隔独立于 -tab 命令。以下查询：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 6271474,6092233,16589597</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docsum</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> DocumentSummary</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -sep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;|&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubDate</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Name</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>返回一个制表符分隔的表格，单个作者名用竖线分隔：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>6271474     1981            Casadaban MJ|Chou J|Lemaux P|Tu CP|Cohen SN</span></span>
<span class="line"><span>6092233     1984 Jul-Aug    Calderon IL|Contopoulou CR|Mortimer RK</span></span>
<span class="line"><span>16589597    1954 Dec        Garber ED</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>-sep 值也适用于用逗号分隔的多个 -element 参数。这可以用于将多个相关字段的数据保存在同一列中：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-sep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot; &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Initials,LastName</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>字段组由 <strong>-pfx</strong> 值前缀，后跟 <strong>-sfx</strong> 值，两个值最初都是空的。</p><p><strong>-def</strong> 命令设置默认占位符，当 -element 子句中的逗号分隔字段都不存在时打印：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-def</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;-&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -sep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot; &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Year,Month,MedlineDate</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>重新打包命令（<strong>-wrp</strong>、<strong>-enc</strong> 和 <strong>-pkg</strong>）使用括起来的 XML 标签包装提取的数据值，只需对象名称即可。例如，“-wrp Word”发出以下格式说明：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-pfx</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&lt;Word&gt;&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -sep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&lt;/Word&gt;&lt;Word&gt;&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -sfx</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&lt;/Word&gt;&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>并且还确保包含编码的角括号、&amp;符号、引号或撇号的数据值在新的 XML 中保持正确编码。</p><p>其他命令（<strong>-tag</strong>、<strong>-att</strong>、<strong>-atr</strong>、<strong>-cls</strong>、<strong>-slf</strong> 和 <strong>-end</strong>）允许生成具有属性的 XML 标签。运行：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-tag</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Item</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -att</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> type</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> journal</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -cls</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Source</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -end</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Item</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">-deq </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;\n&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -tag</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Item</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -att</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> type</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> journal</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -atr</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Source</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -slf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>将分别生成常规和自闭合的 XML 对象：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;Item type=&quot;journal&quot;&gt;J Bacteriol&lt;/Item&gt;</span></span>
<span class="line"><span>&lt;Item type=&quot;journal&quot; name=&quot;J Bacteriol&quot; /&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="元素变体" tabindex="-1"><a class="header-anchor" href="#元素变体"><span>元素变体</span></a></h3><p>-element 的派生被创建，以消除编写后处理脚本执行对提取数据进行的常规修改或分析的不便。它们被分为几个类别。根据需要替换-element。以下是代表性选择：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>位置：       -first, -last, -even, -odd, -backward</span></span>
<span class="line"><span></span></span>
<span class="line"><span>数字：       -num, -len, -inc, -dec, -bin, -hex, -bit</span></span>
<span class="line"><span></span></span>
<span class="line"><span>统计：       -sum, -acc, -min, -max, -dev, -med</span></span>
<span class="line"><span></span></span>
<span class="line"><span>平均：       -avg, -geo, -hrm, -rms</span></span>
<span class="line"><span></span></span>
<span class="line"><span>对数：       -lge, -lg2, -log</span></span>
<span class="line"><span></span></span>
<span class="line"><span>字符：       -encode, -upper, -title, -mirror, -alnum</span></span>
<span class="line"><span></span></span>
<span class="line"><span>字符串：     -basic, -plain, -simple, -author, -journal, -prose</span></span>
<span class="line"><span></span></span>
<span class="line"><span>文本：       -words, -pairs, -letters, -order, -reverse</span></span>
<span class="line"><span></span></span>
<span class="line"><span>引用：       -year, -month, -date, -page, -auth</span></span>
<span class="line"><span></span></span>
<span class="line"><span>序列：       -revcomp, -fasta, -ncbi2na, -molwt, -pentamers</span></span>
<span class="line"><span></span></span>
<span class="line"><span>翻译：       -cds2prot, -gcode, -frame</span></span>
<span class="line"><span></span></span>
<span class="line"><span>坐标：       -0-based, -1-based, -ucsc-based</span></span>
<span class="line"><span></span></span>
<span class="line"><span>变异：       -hgvs</span></span>
<span class="line"><span></span></span>
<span class="line"><span>频率：       -histogram</span></span>
<span class="line"><span></span></span>
<span class="line"><span>表达：       -reg, -exp, -replace</span></span>
<span class="line"><span></span></span>
<span class="line"><span>替换：       -transform, -translate</span></span>
<span class="line"><span></span></span>
<span class="line"><span>索引：       -aliases, -classify</span></span>
<span class="line"><span></span></span>
<span class="line"><span>杂项：       -doi, -wct, -trim, -pad, -accession, -numeric</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>原始-元素前缀快捷方式“<strong>#</strong>”和“<strong>%</strong>”分别重定向到 <strong>-num</strong> 和 <strong>-len</strong>。</p><p>参见 xtract <strong>-help</strong> 获取每个命令的简要描述。</p><h3 id="探索控制" tabindex="-1"><a class="header-anchor" href="#探索控制"><span>探索控制</span></a></h3><p>探索命令提供了对检查 XML 记录内容顺序的精细控制，通过分别呈现所选子区域的每个实例。这限制了后续命令在任何时候“看到”的内容，并允许将对象中的相关字段保持在一起。</p><p>与更简单的 DocumentSummary 格式相比，作为 PubmedArticle XML 检索的记录：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1413997</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> xml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>作者具有分开的姓氏和首字母字段：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;Author&gt;</span></span>
<span class="line"><span>  &lt;LastName&gt;Mortimer&lt;/LastName&gt;</span></span>
<span class="line"><span>  &lt;Initials&gt;RK&lt;/Initials&gt;</span></span>
<span class="line"><span>&lt;/Author&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果没有提供任何关于上下文的指导，在首字母和姓氏上的-元素命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1413997</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> xml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Initials</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LastName</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>将依次检查当前记录中的每个参数，打印所有首字母，然后是所有姓氏：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>RK    CR    JS    Mortimer    Contopoulou    King</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>插入一个 <strong>-block</strong> 命令在 -pattern 和 -element 之间增加另一个探索层，并将数据探索重定向为一次呈现一个作者：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1413997</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> xml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Author</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Initials</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LastName</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>每次循环，-element 命令只能看到当前作者的值。这恢复了输出中首字母和姓氏的正确关联：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>RK    Mortimer    CR    Contopoulou    JS    King</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用逗号将两个作者子字段分组，并调整-sep 和-tab 值：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1413997</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> xml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Author</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -sep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot; &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -tab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;, &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Initials,LastName</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>产生更传统的作者姓名格式：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>RK Mortimer, CR Contopoulou, JS King</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="顺序探索" tabindex="-1"><a class="header-anchor" href="#顺序探索"><span>顺序探索</span></a></h3><p>可以在单个 xtract 中使用多个-block 语句来探索 XML 的不同区域。这限制了元素提取到所需的子区域，并允许区分具有相同名称的字段。例如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 6092233,4640931,4296474</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> xml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> MedlineCitation/PMID</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubDate</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -sep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot; &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Year,Month,MedlineDate</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AuthorList</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -num</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Author</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -sep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;/&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LastName</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sort-table</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -k</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 3,3n</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -k</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 4,4f</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>生成一个表格，允许轻松解析作者姓氏，并按作者数量排序结果：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>4296474    1968 Apr        1    Friedmann</span></span>
<span class="line"><span>4640931    1972 Dec        2    Tager/Steiner</span></span>
<span class="line"><span>6092233    1984 Jul-Aug    3    Calderon/Contopoulou/Mortimer</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>与-element 参数一样，单个-block 语句按出现顺序依次执行。</p><p>注意，“-element MedlineCitation/PMID”使用<strong>父/子</strong>结构防止显示后续 CommentsCorrections 对象中可能存在的额外 PMID 项。</p><p>还要注意，PubDate 对象可以是结构化形式：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;PubDate&gt;</span></span>
<span class="line"><span>  &lt;Year&gt;1968&lt;/Year&gt;</span></span>
<span class="line"><span>  &lt;Month&gt;Apr&lt;/Month&gt;</span></span>
<span class="line"><span>  &lt;Day&gt;25&lt;/Day&gt;</span></span>
<span class="line"><span>&lt;/PubDate&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>（Day 字段通常缺失），或字符串形式：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;PubDate&gt;</span></span>
<span class="line"><span>  &lt;MedlineDate&gt;1984 Jul-Aug&lt;/MedlineDate&gt;</span></span>
<span class="line"><span>&lt;/PubDate&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>但不会混合两种类型，因此指令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Year,Month,MedlineDate</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>只会为输出贡献一列。</p><h3 id="嵌套探索" tabindex="-1"><a class="header-anchor" href="#嵌套探索"><span>嵌套探索</span></a></h3><p>探索命令名称（<strong>-group</strong>、<strong>-block</strong> 和 <strong>-subset</strong>）被分配给优先层次结构：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>-pattern &gt; -group &gt; -block &gt; -subset &gt; -element</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>并按等级顺序组合，以在 XML 数据结构中逐步更深的层次上控制对象迭代。每个命令参数充当“嵌套 for 循环”控制变量，保留有关其级别上的上下文或探索状态的信息。</p><p>（假设）人口普查数据需要几个嵌套循环以在上下文中访问每个唯一地址：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> State</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -group</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> City</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Street</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -subset</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Number</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Resident</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>一个核苷酸或蛋白质序列记录可以有多个特征。每个特征可以有多个限定符。每个限定符都有单独的名称和值节点。探索这个自然数据层次结构，使用 <strong>-pattern</strong> 表示序列，<strong>-group</strong> 表示特征，<strong>-block</strong> 表示限定符：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nuccore</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> NG_008030.1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gbc</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDSeq</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDSeq_accession-version</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -group</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDFeature</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -deq</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n\t&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDFeature_key</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDQualifier</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -deq</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n\t\t&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDQualifier_name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDQualifier_value</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使限定符（如 gene 和 product）与其父特征相关联，并使限定符名称和值在同一行中保持在一起：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>NG_008030.1</span></span>
<span class="line"><span>  source</span></span>
<span class="line"><span>            organism         Homo sapiens</span></span>
<span class="line"><span>            mol_type         genomic DNA</span></span>
<span class="line"><span>            db_xref          taxon:9606</span></span>
<span class="line"><span>  gene</span></span>
<span class="line"><span>            gene             COL5A1</span></span>
<span class="line"><span>  mRNA</span></span>
<span class="line"><span>            gene             COL5A1</span></span>
<span class="line"><span>            product          collagen type V alpha 1 chain, transcript variant 1</span></span>
<span class="line"><span>            transcript_id    NM_000093.4</span></span>
<span class="line"><span>  CDS</span></span>
<span class="line"><span>            gene             COL5A1</span></span>
<span class="line"><span>            product          collagen alpha-1(V) chain isoform 1 preproprotein</span></span>
<span class="line"><span>            protein_id       NP_000084.3</span></span>
<span class="line"><span>            translation      MDVHTRWKARSALRPGAPLLPPLLLLLLWAPPPSRAAQP...</span></span>
<span class="line"><span>            ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="将数据保存到变量中" tabindex="-1"><a class="header-anchor" href="#将数据保存到变量中"><span>将数据保存到变量中</span></a></h3><p>可以将值记录在变量中，并在需要时使用。变量由一个连字符后跟一个由大写字母或数字组成的字符串名称（例如，<strong>-KEY</strong>）创建。在-element 语句中通过在变量名称前加上一个符号（例如，“<strong>&amp;KEY</strong>”）来检索变量值：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nuccore</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> NG_008030.1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gbc</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDSeq</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDSeq_accession-version</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -group</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDFeature</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -KEY</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDFeature_key</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDQualifier</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -deq</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n\t&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&amp;KEY&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDQualifier_name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDQualifier_value</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此版本在限定符名称和值之前打印特征键，即使特征键现在超出了可见范围（当前限定符）：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>NG_008030.1</span></span>
<span class="line"><span>  source    organism         Homo sapiens</span></span>
<span class="line"><span>  source    mol_type         genomic DNA</span></span>
<span class="line"><span>  source    db_xref          taxon:9606</span></span>
<span class="line"><span>  gene      gene             COL5A1</span></span>
<span class="line"><span>  mRNA      gene             COL5A1</span></span>
<span class="line"><span>  mRNA      product          collagen type V alpha 1 chain, transcript variant 1</span></span>
<span class="line"><span>  mRNA      transcript_id    NM_000093.4</span></span>
<span class="line"><span>  CDS       gene             COL5A1</span></span>
<span class="line"><span>  CDS       product          collagen alpha-1(V) chain isoform 1 preproprotein</span></span>
<span class="line"><span>  CDS       protein_id       NP_000084.3</span></span>
<span class="line"><span>  CDS       translation      MDVHTRWKARSALRPGAPLLPPLLLLLLWAPPPSRAAQP...</span></span>
<span class="line"><span>  ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以在括号内使用显式文字值（重新）初始化变量：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Author</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -sep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot; &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -tab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&amp;COM&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Initials,LastName</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -COM</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;(, )&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>它们还可以用作条件语句中的第一个参数：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-CHR</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Chromosome</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GenomicInfoType</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&amp;CHR&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -differs-from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrLoc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用双连字符（例如，<strong>--STATS</strong>）可以将值附加到变量中。</p><p>此外，变量还可以保存由**-**元素变体操作产生的修改后的数据。这允许在单个 xtract 命令中进行多次顺序转换：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-END</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -sum</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Start,Length&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -MID</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -avg</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Start,&amp;END&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>处理下一个记录时，所有变量都会重置。</p><h3 id="条件执行" tabindex="-1"><a class="header-anchor" href="#条件执行"><span>条件执行</span></a></h3><p>条件处理命令（<strong>-if</strong>、<strong>-unless</strong>、<strong>-and</strong>、<strong>-or</strong> 和 <strong>-else</strong>）通过数据内容限制对象探索。它们检查命名字段是否在范围内，并可与字符串、数字或对象约束结合使用，以要求值匹配。例如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Havran W [AUTH]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> xml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;#Author&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -lt</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 14</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Author</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LastName</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -is-not</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Havran</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -sep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;, &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -tab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LastName,Initials[1:1]</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sort-uniq-count-rank</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>选择少于 14 个作者的论文，并打印最常见合作者的表格，使用范围保留第一个首字母，以便将“Berg, CM”和“Berg, C”之类的变体合并：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>34    Witherden, D</span></span>
<span class="line"><span>15    Boismenu, R</span></span>
<span class="line"><span>12    Jameson, J</span></span>
<span class="line"><span>10    Allison, J</span></span>
<span class="line"><span>10    Fitch, F</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>数值约束还可以比较两个字段的整数值。这可以用来查找在负链上编码的基因：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrStart</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -gt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrStop</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>对象约束将比较两个命名字段的字符串值，并可以查找在大多数情况下应相同的字段之间的内部不一致：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Chromosome</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -differs-from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrLoc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>-position</strong> 命令通过相对位置或索引号限制对象的呈现：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Author</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -position</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> last</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -sep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;, &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LastName,Initials</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>多个条件通过 <strong>-and</strong> 和 <strong>-or</strong> 命令指定：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> @score</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -equals</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -or</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> @score</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -starts-with</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 0.9</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>-else</strong> 命令可以提供替代的 -element 或 <strong>-lbl</strong> 指令，如果条件不满足则运行：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> MapLocation</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> MapLocation</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -else</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -lbl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\-&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>但在简单情况下，使用-def 设置默认值可能更方便。</p><p>并行-if 和-unless 语句可用于对包含嵌套探索的替代条件提供更复杂的响应。</p><h3 id="后处理功能" tabindex="-1"><a class="header-anchor" href="#后处理功能"><span>后处理功能</span></a></h3><p>Elink <strong>-cited</strong> 可以执行反向引用查找，感谢 NIH 开放引用集合提供的数据服务。提取的作者姓名可以通过管道传输到一系列 Unix 实用程序进行处理：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Beadle GW [AUTH]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -cited</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docsum</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Author</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Name</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sort</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> uniq</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -c</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>生成引用原始论文的作者的字母顺序计数：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>1 Abellan-Schneyder I</span></span>
<span class="line"><span>1 Abramowitz M</span></span>
<span class="line"><span>1 ABREU LA</span></span>
<span class="line"><span>1 ABREU RR</span></span>
<span class="line"><span>1 Abril JF</span></span>
<span class="line"><span>1 Abächerli E</span></span>
<span class="line"><span>1 Achetib N</span></span>
<span class="line"><span>1 Adams CM</span></span>
<span class="line"><span>2 ADELBERG EA</span></span>
<span class="line"><span>1 Adrian AB</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>与其每次都重新输入一系列常见的后处理指令，不如将经常使用的 Unix 命令组合放在一个函数中，存储在一个别名文件中（例如用户的。bash_profile），并通过名称执行。例如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">SortUniqCountRank</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;.&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  sort</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  uniq</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  awk</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;{ n=$1; sub(/[ \t]*[0-9]+[ \t]/, &quot;&quot;); print n &quot;\t&quot; $0 }&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  sort</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;$(</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">printf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;\t&#39;)&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -k</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1,1nr</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -k</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 2f</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alias</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> sort-uniq-count-rank</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;SortUniqCountRank&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>（接受自定义参数的增强版 <strong>sort-uniq-count-rank</strong> 现已作为独立脚本包含在 EDirect 中。）</p><p>原始作者姓名可以直接传递到 sort-uniq-count-rank 脚本：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Beadle GW [AUTH]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -cited</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docsum</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Author</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Name</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sort-uniq-count-rank</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>生成一个引用原始论文次数最多的作者的制表符分隔的排名列表：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>17    Hawley RS</span></span>
<span class="line"><span>13    Beadle GW</span></span>
<span class="line"><span>13    PERKINS DD</span></span>
<span class="line"><span>11    Glass NL</span></span>
<span class="line"><span>11    Vécsei L</span></span>
<span class="line"><span>10    Toldi J</span></span>
<span class="line"><span>9     TATUM EL</span></span>
<span class="line"><span>8     Ephrussi B</span></span>
<span class="line"><span>8     LEDERBERG J</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>同样地，elink <strong>‑cites</strong> 使用 NIH OCC 数据返回文章的参考文献列表。</p><p>其他用于制表符分隔文件的脚本包括 <strong>sort-table</strong>、<strong>reorder-columns</strong> 和 <strong>align-columns</strong>。Unix 参数扩展需要 <strong>filter-columns</strong> 和 <strong>print-columns</strong> 参数在单引号中。</p><p>请注意，EDirect 命令也可以在 Unix 函数或脚本中使用。</p><h3 id="查看-xml-层次结构" tabindex="-1"><a class="header-anchor" href="#查看-xml-层次结构"><span>查看 XML 层次结构</span></a></h3><p>将 PubmedArticle XML 对象通过管道传输到 xtract <strong>‑outline</strong> 将给出 XML 层次结构的缩进概述：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>PubmedArticle</span></span>
<span class="line"><span>  MedlineCitation</span></span>
<span class="line"><span>    PMID</span></span>
<span class="line"><span>    DateCompleted</span></span>
<span class="line"><span>      Year</span></span>
<span class="line"><span>      Month</span></span>
<span class="line"><span>      Day</span></span>
<span class="line"><span>    ...</span></span>
<span class="line"><span>    Article</span></span>
<span class="line"><span>      Journal</span></span>
<span class="line"><span>        ...</span></span>
<span class="line"><span>        Title</span></span>
<span class="line"><span>        ISOAbbreviation</span></span>
<span class="line"><span>      ArticleTitle</span></span>
<span class="line"><span>      ...</span></span>
<span class="line"><span>      Abstract</span></span>
<span class="line"><span>        AbstractText</span></span>
<span class="line"><span>      AuthorList</span></span>
<span class="line"><span>        Author</span></span>
<span class="line"><span>          LastName</span></span>
<span class="line"><span>          ForeName</span></span>
<span class="line"><span>          Initials</span></span>
<span class="line"><span>          AffiliationInfo</span></span>
<span class="line"><span>            Affiliation</span></span>
<span class="line"><span>        Author</span></span>
<span class="line"><span>          ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 xtract <strong>‑synopsis</strong> 或 <strong>‑contour</strong> 将分别显示所有节点的完整路径或仅显示终端（叶）节点的路径。将这些结果通过管道传输到“sort-uniq-count”将生成一个唯一路径的表格。</p><h3 id="代码嵌套比较" tabindex="-1"><a class="header-anchor" href="#代码嵌套比较"><span>代码嵌套比较</span></a></h3><p>使用缩进的伪代码进行草图可以阐明相对的嵌套级别。提取命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Author</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Initials,LastName</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> MeshHeading</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> QualifierName</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> DescriptorName</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      -subset</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> QualifierName</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> QualifierName</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中参数名称的级别控制嵌套深度，可以用伪代码表示为：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>for pat = each PubmedArticle {</span></span>
<span class="line"><span>  for blk = each pat.Author {</span></span>
<span class="line"><span>    print blk.Initials blk.LastName</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  for blk = each pat.MeSHTerm {</span></span>
<span class="line"><span>    if blk.Qual is present {</span></span>
<span class="line"><span>      print blk.MeshName</span></span>
<span class="line"><span>      for sbs = each blk.Qual {</span></span>
<span class="line"><span>        print sbs.QualName</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中大括号的缩进计数控制嵌套深度。</p><p>额外的参数保留用于在处理复杂的、深度嵌套的 XML 数据时提供额外的组织级别。以下-exploration 命令在-pattern 之下，按级别排列为：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>-path</span></span>
<span class="line"><span>  -division</span></span>
<span class="line"><span>    -group</span></span>
<span class="line"><span>      -branch</span></span>
<span class="line"><span>        -block</span></span>
<span class="line"><span>          -section</span></span>
<span class="line"><span>            -subset</span></span>
<span class="line"><span>              -unit</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从-block 开始进行 xtract 探索，并使用-group 和-subset 进行扩展，保留了额外的级别名称，可以在需要时使用，而无需重新设计整个命令。</p><h2 id="复杂对象" tabindex="-1"><a class="header-anchor" href="#复杂对象"><span>复杂对象</span></a></h2><h3 id="作者探索" tabindex="-1"><a class="header-anchor" href="#作者探索"><span>作者探索</span></a></h3><p>名字中包含什么？我们称之为作者的东西，无论是财团、调查员还是编辑，都是：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;PubmedArticle&gt;</span></span>
<span class="line"><span>  &lt;MedlineCitation&gt;</span></span>
<span class="line"><span>    &lt;PMID&gt;99999999&lt;/PMID&gt;</span></span>
<span class="line"><span>    &lt;Article&gt;</span></span>
<span class="line"><span>      &lt;AuthorList&gt;</span></span>
<span class="line"><span>        &lt;Author&gt;</span></span>
<span class="line"><span>          &lt;LastName&gt;Tinker&lt;/LastName&gt;</span></span>
<span class="line"><span>        &lt;/Author&gt;</span></span>
<span class="line"><span>        &lt;Author&gt;</span></span>
<span class="line"><span>          &lt;LastName&gt;Evers&lt;/LastName&gt;</span></span>
<span class="line"><span>        &lt;/Author&gt;</span></span>
<span class="line"><span>        &lt;Author&gt;</span></span>
<span class="line"><span>          &lt;LastName&gt;Chance&lt;/LastName&gt;</span></span>
<span class="line"><span>        &lt;/Author&gt;</span></span>
<span class="line"><span>        &lt;Author&gt;</span></span>
<span class="line"><span>          &lt;CollectiveName&gt;FlyBase Consortium&lt;/CollectiveName&gt;</span></span>
<span class="line"><span>        &lt;/Author&gt;</span></span>
<span class="line"><span>      &lt;/AuthorList&gt;</span></span>
<span class="line"><span>    &lt;/Article&gt;</span></span>
<span class="line"><span>    &lt;InvestigatorList&gt;</span></span>
<span class="line"><span>      &lt;Investigator&gt;</span></span>
<span class="line"><span>        &lt;LastName&gt;Alpher&lt;/LastName&gt;</span></span>
<span class="line"><span>      &lt;/Investigator&gt;</span></span>
<span class="line"><span>      &lt;Investigator&gt;</span></span>
<span class="line"><span>        &lt;LastName&gt;Bethe&lt;/LastName&gt;</span></span>
<span class="line"><span>      &lt;/Investigator&gt;</span></span>
<span class="line"><span>      &lt;Investigator&gt;</span></span>
<span class="line"><span>        &lt;LastName&gt;Gamow&lt;/LastName&gt;</span></span>
<span class="line"><span>      &lt;/Investigator&gt;</span></span>
<span class="line"><span>    &lt;/InvestigatorList&gt;</span></span>
<span class="line"><span>  &lt;/MedlineCitation&gt;</span></span>
<span class="line"><span>&lt;/PubmedArticle&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在记录中，对姓氏进行-element 探索：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LastName</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>打印每个姓氏，但不匹配财团：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Tinker    Evers    Chance    Alpher    Bethe    Gamow</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>限制到作者列表：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AuthorList</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LastName</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>排除调查员：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Tinker    Evers    Chance</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在每种对象类型上使用-num：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -num</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Author</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Investigator</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LastName</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CollectiveName</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>显示各种对象的计数：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>4    3    6    1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="日期选择" tabindex="-1"><a class="header-anchor" href="#日期选择"><span>日期选择</span></a></h3><p>日期有各种形式和大小：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;PubmedArticle&gt;</span></span>
<span class="line"><span>  &lt;MedlineCitation&gt;</span></span>
<span class="line"><span>    &lt;PMID&gt;99999999&lt;/PMID&gt;</span></span>
<span class="line"><span>    &lt;DateCompleted&gt;</span></span>
<span class="line"><span>      &lt;Year&gt;2011&lt;/Year&gt;</span></span>
<span class="line"><span>    &lt;/DateCompleted&gt;</span></span>
<span class="line"><span>    &lt;DateRevised&gt;</span></span>
<span class="line"><span>      &lt;Year&gt;2012&lt;/Year&gt;</span></span>
<span class="line"><span>    &lt;/DateRevised&gt;</span></span>
<span class="line"><span>    &lt;Article&gt;</span></span>
<span class="line"><span>      &lt;Journal&gt;</span></span>
<span class="line"><span>        &lt;JournalIssue&gt;</span></span>
<span class="line"><span>          &lt;PubDate&gt;</span></span>
<span class="line"><span>            &lt;Year&gt;2013&lt;/Year&gt;</span></span>
<span class="line"><span>          &lt;/PubDate&gt;</span></span>
<span class="line"><span>        &lt;/JournalIssue&gt;</span></span>
<span class="line"><span>      &lt;/Journal&gt;</span></span>
<span class="line"><span>      &lt;ArticleDate&gt;</span></span>
<span class="line"><span>        &lt;Year&gt;2014&lt;/Year&gt;</span></span>
<span class="line"><span>      &lt;/ArticleDate&gt;</span></span>
<span class="line"><span>    &lt;/Article&gt;</span></span>
<span class="line"><span>  &lt;/MedlineCitation&gt;</span></span>
<span class="line"><span>  &lt;PubmedData&gt;</span></span>
<span class="line"><span>    &lt;History&gt;</span></span>
<span class="line"><span>      &lt;PubMedPubDate PubStatus=&quot;received&quot;&gt;</span></span>
<span class="line"><span>        &lt;Year&gt;2015&lt;/Year&gt;</span></span>
<span class="line"><span>      &lt;/PubMedPubDate&gt;</span></span>
<span class="line"><span>      &lt;PubMedPubDate PubStatus=&quot;accepted&quot;&gt;</span></span>
<span class="line"><span>        &lt;Year&gt;2016&lt;/Year&gt;</span></span>
<span class="line"><span>      &lt;/PubMedPubDate&gt;</span></span>
<span class="line"><span>      &lt;PubMedPubDate PubStatus=&quot;entrez&quot;&gt;</span></span>
<span class="line"><span>        &lt;Year&gt;2017&lt;/Year&gt;</span></span>
<span class="line"><span>      &lt;/PubMedPubDate&gt;</span></span>
<span class="line"><span>      &lt;PubMedPubDate PubStatus=&quot;pubmed&quot;&gt;</span></span>
<span class="line"><span>        &lt;Year&gt;2018&lt;/Year&gt;</span></span>
<span class="line"><span>      &lt;/PubMedPubDate&gt;</span></span>
<span class="line"><span>      &lt;PubMedPubDate PubStatus=&quot;medline&quot;&gt;</span></span>
<span class="line"><span>        &lt;Year&gt;2019&lt;/Year&gt;</span></span>
<span class="line"><span>      &lt;/PubMedPubDate&gt;</span></span>
<span class="line"><span>    &lt;/History&gt;</span></span>
<span class="line"><span>  &lt;/PubmedData&gt;</span></span>
<span class="line"><span>&lt;/PubmedArticle&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在记录中，对年份进行-element 探索：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Year</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查找并打印所有九个实例：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>2011    2012    2013    2014    2015    2016    2017    2018    2019</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用-block 来限制范围：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> History</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Year</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>仅打印 History 对象中的五个年份：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>2015    2016    2017    2018    2019</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>插入条件语句以将元素选择限制为具有特定属性的日期：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> History</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> @PubStatus</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -equals</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;pubmed&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Year</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>令人惊讶的是，仍然打印 History 中的五个年份：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>2015    2016    2017    2018    2019</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这是因为-if 命令使用与-element 相同的探索逻辑，但设计为如果在当前范围内找到匹配，则声明成功。History 中确实存在一个&quot;pubmed&quot;属性，在五个 PubMedPubDate 子对象中的一个中，因此测试成功。因此，-element 在 History 中具有自由探索权，打印所有五个年份。</p><p>解决方案是探索单个 PubMedPubDate 对象：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubMedPubDate</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> @PubStatus</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -equals</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;pubmed&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Year</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>这将分别访问每个 PubMedPubDate 对象，-if 测试仅匹配指定的日期类型，从而仅返回所需的年份：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>2018</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="pmid-提取" tabindex="-1"><a class="header-anchor" href="#pmid-提取"><span>PMID 提取</span></a></h3><p>由于存在 CommentsCorrections 对象：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;PubmedArticle&gt;</span></span>
<span class="line"><span>  &lt;MedlineCitation&gt;</span></span>
<span class="line"><span>    &lt;PMID&gt;99999999&lt;/PMID&gt;</span></span>
<span class="line"><span>    &lt;CommentsCorrectionsList&gt;</span></span>
<span class="line"><span>      &lt;CommentsCorrections RefType=&quot;ErratumFor&quot;&gt;</span></span>
<span class="line"><span>        &lt;PMID&gt;88888888&lt;/PMID&gt;</span></span>
<span class="line"><span>      &lt;/CommentsCorrections&gt;</span></span>
<span class="line"><span>    &lt;/CommentsCorrectionsList&gt;</span></span>
<span class="line"><span>  &lt;/MedlineCitation&gt;</span></span>
<span class="line"><span>&lt;/PubmedArticle&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>尝试打印记录的 PubMed 标识符：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PMID</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>也会返回评论的 PMID：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>99999999    88888888</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用探索命令无法排除第二个实例，因为它需要一个唯一的父节点来对应第一个元素，并且到第一个 PMID 的父节点链：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>PubmedArticle/MedlineCitation</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>是到第二个 PMID 的父节点链的子集：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>PubmedArticle/MedlineCitation/CommentsCorrectionList/CommentsCorrections</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>虽然**-first** PMID 在这种情况下可行，但更普遍的解决方案是使用父/子结构进行路径限制：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> MedlineCitation/PMID</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>即使对象顺序颠倒，这也能起作用。</p><h3 id="异构数据" tabindex="-1"><a class="header-anchor" href="#异构数据"><span>异构数据</span></a></h3><p>XML 对象可以包含异构混合的组件。例如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 21433338,17247418</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> xml</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>返回一组书籍和期刊记录的混合体：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;PubmedArticleSet&gt;</span></span>
<span class="line"><span>  &lt;PubmedBookArticle&gt;</span></span>
<span class="line"><span>    &lt;BookDocument&gt;</span></span>
<span class="line"><span>    ...</span></span>
<span class="line"><span>    &lt;/PubmedBookData&gt;</span></span>
<span class="line"><span>  &lt;/PubmedBookArticle&gt;</span></span>
<span class="line"><span>  &lt;PubmedArticle&gt;</span></span>
<span class="line"><span>    &lt;MedlineCitation&gt;</span></span>
<span class="line"><span>    ...</span></span>
<span class="line"><span>    &lt;/PubmedData&gt;</span></span>
<span class="line"><span>  &lt;/PubmedArticle&gt;</span></span>
<span class="line"><span>&lt;/PubmedArticleSet&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 <strong>parent/star</strong> 结构访问各个组件，即使它们可能有不同的名称。将输出通过管道传输到：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;PubmedArticleSet/*&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;*&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>分别打印每个 XML 组件的全部内容：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;PubmedBookArticle&gt;&lt;BookDocument&gt; ... &lt;/PubmedBookData&gt;&lt;/PubmedBookArticle&gt;</span></span>
<span class="line"><span>&lt;PubmedArticle&gt;&lt;MedlineCitation&gt; ... &lt;/PubmedData&gt;&lt;/PubmedArticle&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 parent/child 结构可以隔离在 XML 层次结构中位置不同但名称相同的对象。例如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 21433338,17247418</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> xml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;PubmedArticleSet/*&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -group</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;BookDocument/AuthorList&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -tab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LastName</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -group</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Book/AuthorList&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -tab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LastName</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -group</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Article/AuthorList&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -tab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LastName</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>分别为书籍/章节作者、书籍编辑和文章作者写入单独的行：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Fauci        Desrosiers</span></span>
<span class="line"><span>Coffin       Hughes        Varmus</span></span>
<span class="line"><span>Lederberg    Cavalli       Lederberg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>仅使用单个参数进行探索：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-group</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> BookDocument</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AuthorList</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LastName</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>将访问编辑者（在 BookDocument/Book/AuthorList）以及作者（在 BookDocument/AuthorList），并按 XML 中的出现顺序打印名称：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Coffin    Hughes    Varmus    Fauci    Desrosiers</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>（在这个特定示例中，可以使用-if &quot;@Type&quot; -equals authors 或-if &quot;@Type&quot; -equals editors 来区分书籍作者列表，但按 parent/child 进行探索是一种通用的基于位置的方法。）</p><h3 id="递归定义" tabindex="-1"><a class="header-anchor" href="#递归定义"><span>递归定义</span></a></h3><p>某些由 efetch 返回的 XML 对象是递归定义的，包括-db taxonomy 中的 Taxon 和-db gene 中的 Gene-commentary。因此，它们可以包含具有相同 XML 标签的嵌套对象。</p><p>检索一组分类记录：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>efetch -db taxonomy -id 9606,7227 -format xml</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>为每个分类等级生成嵌套的 Taxon 对象的 XML（以下用行引用标记）：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>    &lt;TaxaSet&gt;</span></span>
<span class="line"><span>1     &lt;Taxon&gt;</span></span>
<span class="line"><span>        &lt;TaxId&gt;9606&lt;/TaxId&gt;</span></span>
<span class="line"><span>        &lt;ScientificName&gt;Homo sapiens&lt;/ScientificName&gt;</span></span>
<span class="line"><span>        ...</span></span>
<span class="line"><span>        &lt;LineageEx&gt;</span></span>
<span class="line"><span>2         &lt;Taxon&gt;</span></span>
<span class="line"><span>            &lt;TaxId&gt;131567&lt;/TaxId&gt;</span></span>
<span class="line"><span>            &lt;ScientificName&gt;cellular organisms&lt;/ScientificName&gt;</span></span>
<span class="line"><span>            &lt;Rank&gt;no rank&lt;/Rank&gt;</span></span>
<span class="line"><span>3         &lt;/Taxon&gt;</span></span>
<span class="line"><span>4         &lt;Taxon&gt;</span></span>
<span class="line"><span>            &lt;TaxId&gt;2759&lt;/TaxId&gt;</span></span>
<span class="line"><span>            &lt;ScientificName&gt;Eukaryota&lt;/ScientificName&gt;</span></span>
<span class="line"><span>            &lt;Rank&gt;superkingdom&lt;/Rank&gt;</span></span>
<span class="line"><span>5         &lt;/Taxon&gt;</span></span>
<span class="line"><span>          ...</span></span>
<span class="line"><span>        &lt;/LineageEx&gt;</span></span>
<span class="line"><span>        ...</span></span>
<span class="line"><span>6     &lt;/Taxon&gt;</span></span>
<span class="line"><span>7     &lt;Taxon&gt;</span></span>
<span class="line"><span>        &lt;TaxId&gt;7227&lt;/TaxId&gt;</span></span>
<span class="line"><span>        &lt;ScientificName&gt;Drosophila melanogaster&lt;/ScientificName&gt;</span></span>
<span class="line"><span>        ...</span></span>
<span class="line"><span>8     &lt;/Taxon&gt;</span></span>
<span class="line"><span>    &lt;/TaxaSet&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Xtract 跟踪 XML 对象嵌套，以确定第 1 行的<code>&lt;Taxon&gt;</code>开始标签由第 6 行的<code>&lt;/Taxon&gt;</code>停止标签关闭，而不是第 3 行遇到的第一个<code>&lt;/Taxon&gt;</code>标签。</p><p>当一个递归对象（例如 Taxon）被赋予一个探索命令时：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> taxonomy</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 9606,7227,10090</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> xml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Taxon</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> TaxId</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ScientificName</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GenbankCommonName</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Division</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>随后的-element 命令被阻止进入内部对象，只返回主要条目的信息：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>9606     Homo sapiens               human          Primates</span></span>
<span class="line"><span>7227     Drosophila melanogaster    fruit fly      Invertebrates</span></span>
<span class="line"><span>10090    Mus musculus               house mouse    Rodents</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 <strong>star/child</strong> 结构将跳过外部开始标签：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> taxonomy</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 9606,7227,10090</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> xml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Taxon</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;*/Taxon&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -tab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> TaxId,ScientificName</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以单独访问下一级的嵌套对象：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>131567    cellular organisms</span></span>
<span class="line"><span>2759      Eukaryota</span></span>
<span class="line"><span>33154     Opisthokonta</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>递归对象可以通过 <strong>double star/child</strong> 结构进行全面探索：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gene</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;DMD [GENE] AND human [ORGN]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> xml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Entrezgene</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;**/Gene-commentary&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -tab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Gene-commentary_type@value,Gene-commentary_accession</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这将访问每个子对象，不论嵌套深度：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>genomic    NC_000023</span></span>
<span class="line"><span>mRNA       XM_006724469</span></span>
<span class="line"><span>peptide    XP_006724532</span></span>
<span class="line"><span>mRNA       XM_011545467</span></span>
<span class="line"><span>peptide    XP_011543769</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="其他-elink-选项" tabindex="-1"><a class="header-anchor" href="#其他-elink-选项"><span>其他 Elink 选项</span></a></h3><p>Elink 有几个额外的模式，可以用-cmd 参数指定。当不使用默认的&quot;neighbor_history&quot;命令时，elink 将返回一个 eLinkResult XML 对象，每个 UID 的链接分别呈现在单独的块中。例如，&quot;neighbor&quot;命令：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>esearch -db pubmed -query &quot;Hoffmann PC [AUTH] AND dopamine [MAJR]&quot; |</span></span>
<span class="line"><span>elink -related -cmd neighbor |</span></span>
<span class="line"><span>xtract -pattern LinkSetDb -element Id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将显示第一列中的原始 PMID 和后续列中的相关文章 PMID：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>1504781    11754494    3815119    1684029    14614914    12128255    ...</span></span>
<span class="line"><span>1684029    3815119     1504781    8097798    17161385    14755628    ...</span></span>
<span class="line"><span>2572612    2903614     6152036    2905789    9483560     1352865     ...</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>&quot;acheck&quot;命令返回每条记录的所有可用链接名称：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Federhen S [AUTH]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -cmd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> acheck</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LinkSet</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -tab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> IdLinkSet/Id</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LinkInfo</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -tab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LinkName</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将每个链接打印在自己的行上：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>25510495</span></span>
<span class="line"><span>pubmed_images</span></span>
<span class="line"><span>pubmed_pmc</span></span>
<span class="line"><span>pubmed_pmc_local</span></span>
<span class="line"><span>pubmed_pmc_refs</span></span>
<span class="line"><span>pubmed_pubmed</span></span>
<span class="line"><span>pubmed_pubmed_citedin</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>&quot;prlinks&quot;命令可以获取文章的发布者网页 URL 引用。Unix &quot;xargs&quot;命令为每个标识符分别调用 elink：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">epost</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 22966225,19880848</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> uid</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xargs</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -cmd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> prlinks</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LinkSet</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -first</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Id</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ObjUrl/Url</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="重新打包-xml-结果" tabindex="-1"><a class="header-anchor" href="#重新打包-xml-结果"><span>重新打包 XML 结果</span></a></h3><p>将摘要段落拆分为单个单词，同时使用 XML 重新格式化命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2539356</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> xml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -stops</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rec</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Rec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -enc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Paragraph</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -wrp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Word</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -words</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AbstractText</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>生成：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>...</span></span>
<span class="line"><span>&lt;Paragraph&gt;</span></span>
<span class="line"><span>  &lt;Word&gt;the&lt;/Word&gt;</span></span>
<span class="line"><span>  &lt;Word&gt;tn3&lt;/Word&gt;</span></span>
<span class="line"><span>  &lt;Word&gt;transposon&lt;/Word&gt;</span></span>
<span class="line"><span>  &lt;Word&gt;inserts&lt;/Word&gt;</span></span>
<span class="line"><span>  ...</span></span>
<span class="line"><span>  &lt;Word&gt;was&lt;/Word&gt;</span></span>
<span class="line"><span>  &lt;Word&gt;necessary&lt;/Word&gt;</span></span>
<span class="line"><span>  &lt;Word&gt;for&lt;/Word&gt;</span></span>
<span class="line"><span>  &lt;Word&gt;immunity&lt;/Word&gt;</span></span>
<span class="line"><span>&lt;/Paragraph&gt;</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>每个摘要实例中的单词都被封装在一个单独的父对象中。然后可以通过管道传输到：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Rec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Paragraph</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -num</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Word</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>计算每个段落的单词数。</p><h3 id="多步骤转换" tabindex="-1"><a class="header-anchor" href="#多步骤转换"><span>多步骤转换</span></a></h3><p>虽然 xtract 提供了-element 变体来进行简单的数据操作，但有时将复杂任务分解为一系列简单的转换是最好的方法。这些也称为结构化数据“处理链”。</p><p>两个细菌染色体的文档摘要：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nuccore</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> U00096,CP002956</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docsum</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>包含几个单独的字段和一系列复杂的自闭合 Stat 对象：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;DocumentSummary&gt;</span></span>
<span class="line"><span>  &lt;Id&gt;545778205&lt;/Id&gt;</span></span>
<span class="line"><span>  &lt;Caption&gt;U00096&lt;/Caption&gt;</span></span>
<span class="line"><span>  &lt;Title&gt;Escherichia coli str. K-12 substr. MG1655, complete genome&lt;/Title&gt;</span></span>
<span class="line"><span>  &lt;CreateDate&gt;1998/10/13&lt;/CreateDate&gt;</span></span>
<span class="line"><span>  &lt;UpdateDate&gt;2020/09/23&lt;/UpdateDate&gt;</span></span>
<span class="line"><span>  &lt;TaxId&gt;511145&lt;/TaxId&gt;</span></span>
<span class="line"><span>  &lt;Slen&gt;4641652&lt;/Slen&gt;</span></span>
<span class="line"><span>  &lt;Biomol&gt;genomic&lt;/Biomol&gt;</span></span>
<span class="line"><span>  &lt;MolType&gt;dna&lt;/MolType&gt;</span></span>
<span class="line"><span>  &lt;Topology&gt;circular&lt;/Topology&gt;</span></span>
<span class="line"><span>  &lt;Genome&gt;chromosome&lt;/Genome&gt;</span></span>
<span class="line"><span>  &lt;Completeness&gt;complete&lt;/Completeness&gt;</span></span>
<span class="line"><span>  &lt;GeneticCode&gt;11&lt;/GeneticCode&gt;</span></span>
<span class="line"><span>  &lt;Organism&gt;Escherichia coli str. K-12 substr. MG1655&lt;/Organism&gt;</span></span>
<span class="line"><span>  &lt;Strain&gt;K-12&lt;/Strain&gt;</span></span>
<span class="line"><span>  &lt;BioSample&gt;SAMN02604091&lt;/BioSample&gt;</span></span>
<span class="line"><span>  &lt;Statistics&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;Length&quot; count=&quot;4641652&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;all&quot; count=&quot;9198&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;cdregion&quot; count=&quot;4302&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;cdregion&quot; subtype=&quot;CDS&quot; count=&quot;4285&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;cdregion&quot; subtype=&quot;CDS/pseudo&quot; count=&quot;17&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;gene&quot; count=&quot;4609&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;gene&quot; subtype=&quot;Gene&quot; count=&quot;4464&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;gene&quot; subtype=&quot;Gene/pseudo&quot; count=&quot;145&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;rna&quot; count=&quot;187&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;rna&quot; subtype=&quot;ncRNA&quot; count=&quot;79&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;rna&quot; subtype=&quot;rRNA&quot; count=&quot;22&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;rna&quot; subtype=&quot;tRNA&quot; count=&quot;86&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat source=&quot;all&quot; type=&quot;Length&quot; count=&quot;4641652&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat source=&quot;all&quot; type=&quot;all&quot; count=&quot;13500&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat source=&quot;all&quot; type=&quot;cdregion&quot; count=&quot;4302&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat source=&quot;all&quot; type=&quot;gene&quot; count=&quot;4609&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat source=&quot;all&quot; type=&quot;prot&quot; count=&quot;4302&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat source=&quot;all&quot; type=&quot;rna&quot; count=&quot;187&quot;/&gt;</span></span>
<span class="line"><span>  &lt;/Statistics&gt;</span></span>
<span class="line"><span>  &lt;AccessionVersion&gt;U00096.3&lt;/AccessionVersion&gt;</span></span>
<span class="line"><span>&lt;/DocumentSummary&gt;</span></span>
<span class="line"><span>&lt;DocumentSummary&gt;</span></span>
<span class="line"><span>  &lt;Id&gt;342852136&lt;/Id&gt;</span></span>
<span class="line"><span>  &lt;Caption&gt;CP002956&lt;/Caption&gt;</span></span>
<span class="line"><span>  &lt;Title&gt;Yersinia pestis A1122, complete genome&lt;/Title&gt;</span></span>
<span class="line"><span>  ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这使得提取基因计数的“最佳”值成为一项非平凡的任务。</p><p>除了将提取值与 XML 标签包装在一起的重新打包命令外，-element &quot;*****&quot;结构打印当前范围的全部内容，包括其 XML 包装。将文档摘要传输到：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Set</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rec</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Rec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> DocumentSummary</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> DocumentSummary</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pkg</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Common</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -wrp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Accession</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AccessionVersion</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -wrp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Organism</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Organism</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -wrp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Length</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Slen</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -wrp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Title</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Title</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -wrp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Date</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CreateDate</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -wrp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Biomol</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Biomol</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -wrp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> MolType</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> MolType</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Stat</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> @type</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -equals</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gene</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pkg</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Gene</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;*&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Stat</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> @type</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -equals</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rna</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pkg</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> RNA</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;*&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Stat</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> @type</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -equals</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cdregion</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pkg</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CDS</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;*&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将几个字段封闭在一个 Common 块中，并将基因、RNA 和编码区特征的统计信息打包到新 XML 对象的单独部分：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>...</span></span>
<span class="line"><span>&lt;Rec&gt;</span></span>
<span class="line"><span>  &lt;Common&gt;</span></span>
<span class="line"><span>    &lt;Accession&gt;U00096.3&lt;/Accession&gt;</span></span>
<span class="line"><span>    &lt;Organism&gt;Escherichia coli str. K-12 substr. MG1655&lt;/Organism&gt;</span></span>
<span class="line"><span>    &lt;Length&gt;4641652&lt;/Length&gt;</span></span>
<span class="line"><span>    &lt;Title&gt;Escherichia coli str. K-12 substr. MG1655, complete genome&lt;/Title&gt;</span></span>
<span class="line"><span>    &lt;Date&gt;1998/10/13&lt;/Date&gt;</span></span>
<span class="line"><span>    &lt;Biomol&gt;genomic&lt;/Biomol&gt;</span></span>
<span class="line"><span>    &lt;MolType&gt;dna&lt;/MolType&gt;</span></span>
<span class="line"><span>  &lt;/Common&gt;</span></span>
<span class="line"><span>  &lt;Gene&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;gene&quot; count=&quot;4609&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;gene&quot; subtype=&quot;Gene&quot; count=&quot;4464&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;gene&quot; subtype=&quot;Gene/pseudo&quot; count=&quot;145&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat source=&quot;all&quot; type=&quot;gene&quot; count=&quot;4609&quot;/&gt;</span></span>
<span class="line"><span>  &lt;/Gene&gt;</span></span>
<span class="line"><span>  &lt;RNA&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;rna&quot; count=&quot;187&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;rna&quot; subtype=&quot;ncRNA&quot; count=&quot;79&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;rna&quot; subtype=&quot;rRNA&quot; count=&quot;22&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;rna&quot; subtype=&quot;tRNA&quot; count=&quot;86&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat source=&quot;all&quot; type=&quot;rna&quot; count=&quot;187&quot;/&gt;</span></span>
<span class="line"><span>  &lt;/RNA&gt;</span></span>
<span class="line"><span>  &lt;CDS&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;cdregion&quot; count=&quot;4302&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;cdregion&quot; subtype=&quot;CDS&quot; count=&quot;4285&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat type=&quot;cdregion&quot; subtype=&quot;CDS/pseudo&quot; count=&quot;17&quot;/&gt;</span></span>
<span class="line"><span>    &lt;Stat source=&quot;all&quot; type=&quot;cdregion&quot; count=&quot;4302&quot;/&gt;</span></span>
<span class="line"><span>  &lt;/CDS&gt;</span></span>
<span class="line"><span>&lt;/Rec&gt;</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>由于来自不同类型特征的统计信息现在被隔离在自己的子结构中，可以使用-first 命令提取每个特征的总计数：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Set</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rec</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Rec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Rec</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Common</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;*&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Gene</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -wrp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GeneCount</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -first</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Stat@count</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> RNA</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -wrp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> RnaCount</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -first</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Stat@count</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CDS</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -wrp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CDSCount</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -first</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Stat@count</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这将数据重新包装成包含特定特征计数的第三种 XML 格式：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>...</span></span>
<span class="line"><span>&lt;Rec&gt;</span></span>
<span class="line"><span>  &lt;Common&gt;</span></span>
<span class="line"><span>    &lt;Accession&gt;U00096.3&lt;/Accession&gt;</span></span>
<span class="line"><span>    &lt;Organism&gt;Escherichia coli str. K-12 substr. MG1655&lt;/Organism&gt;</span></span>
<span class="line"><span>    &lt;Length&gt;4641652&lt;/Length&gt;</span></span>
<span class="line"><span>    &lt;Title&gt;Escherichia coli str. K-12 substr. MG1655, complete genome&lt;/Title&gt;</span></span>
<span class="line"><span>    &lt;Date&gt;1998/10/13&lt;/Date&gt;</span></span>
<span class="line"><span>    &lt;Biomol&gt;genomic&lt;/Biomol&gt;</span></span>
<span class="line"><span>    &lt;MolType&gt;dna&lt;/MolType&gt;</span></span>
<span class="line"><span>  &lt;/Common&gt;</span></span>
<span class="line"><span>  &lt;GeneCount&gt;4609&lt;/GeneCount&gt;</span></span>
<span class="line"><span>  &lt;RnaCount&gt;187&lt;/RnaCount&gt;</span></span>
<span class="line"><span>  &lt;CDSCount&gt;4302&lt;/CDSCount&gt;</span></span>
<span class="line"><span>&lt;/Rec&gt;</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>而不需要在每一步都为 Common 块中的各个元素编写提取命令。</p><p>假设内容令人满意，将最后的结构形式传递给：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -head</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> accession</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> organism</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> length</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gene_count</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rna_count</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Rec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -def</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;-&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Accession</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Organism</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Length</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GeneCount</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> RnaCount</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>生成一个带有适当列标题的标签分隔表：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>accession     organism                 length     gene_count    rna_count</span></span>
<span class="line"><span>U00096.3      Escherichia coli ...     4641652    4609          187</span></span>
<span class="line"><span>CP002956.1    Yersinia pestis A1122    4553770    4217          86</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果在运行最终的 xtract 后需要不同的字段顺序，可以通过管道传输到：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>reorder-columns 1 3 5 4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>将重新排列输出，包括列标题：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>accession     length     rna_count    gene_count</span></span>
<span class="line"><span>U00096.3      4641652    187          4609</span></span>
<span class="line"><span>CP002956.1    4553770    86           4217</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="序列记录" tabindex="-1"><a class="header-anchor" href="#序列记录"><span>序列记录</span></a></h2><h3 id="序列记录的-ncbi-数据模型" tabindex="-1"><a class="header-anchor" href="#序列记录的-ncbi-数据模型"><span>序列记录的 NCBI 数据模型</span></a></h3><p>NCBI 的序列记录数据模型基于分子生物学的中心法则。序列，包括基因组 DNA、信使 RNA 和蛋白质产物，被“实例化”并分配标识符（例如，登录号）作为参考。</p><p>每个序列可以有多个特征，这些特征包含有关给定区域生物学的信息，包括基因表达所涉及的转换。每个特征可以有多个限定符，这些限定符存储有关该特征的具体细节（例如，基因的名称、用于蛋白质翻译的遗传密码、产物序列的登录号、对外部数据库的交叉引用）。</p><figure><img src="https://www.ncbi.nlm.nih.gov/books/NBK179288/bin/chapter6-Image001.jpg" alt="Image chapter6-Image001.jpg" tabindex="0" loading="lazy"><figcaption>Image chapter6-Image001.jpg</figcaption></figure><p>基因特征指示了赋予可测量表型的可遗传核酸区域的位置。基因组 DNA 上的 mRNA 特征表示转录和剪接后保留下来的外显子和非翻译区域。编码区（CDS）特征有一个指向翻译蛋白质的产物参考。</p><p>由于信使 RNA 序列并不总是与基因组区域一起提交，CDS 特征（模拟核糖体在转录分子上的移动）传统上注释在基因组序列上，其位置编码外显子区间。</p><p>为了用户的便利，限定符可以从基础数据动态生成。因此，即使成熟肽未实例化，也可以从前体蛋白上的 mat_peptide 特征的位置提取成熟肽的序列并显示在/peptide 限定符中。</p><h3 id="insdseq-xml-中的序列记录" tabindex="-1"><a class="header-anchor" href="#insdseq-xml-中的序列记录"><span>INSDSeq XML 中的序列记录</span></a></h3><p>序列记录可以在 GenBank 或 GenPept 平面文件的 XML 版本中检索。查询：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> protein</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 26418308,26418074</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gpc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>返回一组 INSDSeq 对象：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;INSDSet&gt;</span></span>
<span class="line"><span>  &lt;INSDSeq&gt;</span></span>
<span class="line"><span>    &lt;INSDSeq_locus&gt;AAN78128&lt;/INSDSeq_locus&gt;</span></span>
<span class="line"><span>    &lt;INSDSeq_length&gt;17&lt;/INSDSeq_length&gt;</span></span>
<span class="line"><span>    &lt;INSDSeq_moltype&gt;AA&lt;/INSDSeq_moltype&gt;</span></span>
<span class="line"><span>    &lt;INSDSeq_topology&gt;linear&lt;/INSDSeq_topology&gt;</span></span>
<span class="line"><span>    &lt;INSDSeq_division&gt;INV&lt;/INSDSeq_division&gt;</span></span>
<span class="line"><span>    &lt;INSDSeq_update-date&gt;03-JAN-2003&lt;/INSDSeq_update-date&gt;</span></span>
<span class="line"><span>    &lt;INSDSeq_create-date&gt;10-DEC-2002&lt;/INSDSeq_create-date&gt;</span></span>
<span class="line"><span>    &lt;INSDSeq_definition&gt;alpha-conotoxin ImI precursor, partial [Conus</span></span>
<span class="line"><span>       imperialis]&lt;/INSDSeq_definition&gt;</span></span>
<span class="line"><span>    &lt;INSDSeq_primary-accession&gt;AAN78128&lt;/INSDSeq_primary-accession&gt;</span></span>
<span class="line"><span>    &lt;INSDSeq_accession-version&gt;AAN78128.1&lt;/INSDSeq_accession-version&gt;</span></span>
<span class="line"><span>    &lt;INSDSeq_other-seqids&gt;</span></span>
<span class="line"><span>      &lt;INSDSeqid&gt;gb|AAN78128.1|&lt;/INSDSeqid&gt;</span></span>
<span class="line"><span>      &lt;INSDSeqid&gt;gi|26418308&lt;/INSDSeqid&gt;</span></span>
<span class="line"><span>    &lt;/INSDSeq_other-seqids&gt;</span></span>
<span class="line"><span>    &lt;INSDSeq_source&gt;Conus imperialis&lt;/INSDSeq_source&gt;</span></span>
<span class="line"><span>    &lt;INSDSeq_organism&gt;Conus imperialis&lt;/INSDSeq_organism&gt;</span></span>
<span class="line"><span>    &lt;INSDSeq_taxonomy&gt;Eukaryota; Metazoa; Lophotrochozoa; Mollusca;</span></span>
<span class="line"><span>       Gastropoda; Caenogastropoda; Hypsogastropoda; Neogastropoda;</span></span>
<span class="line"><span>       Conoidea; Conidae; Conus&lt;/INSDSeq_taxonomy&gt;</span></span>
<span class="line"><span>    &lt;INSDSeq_references&gt;</span></span>
<span class="line"><span>      &lt;INSDReference&gt;</span></span>
<span class="line"><span>      ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>生物特征和限定符（此处以 GenPept 格式显示）：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>FEATURES             Location/Qualifiers</span></span>
<span class="line"><span>   source          1..17</span></span>
<span class="line"><span>                   /organism=&quot;Conus imperialis&quot;</span></span>
<span class="line"><span>                   /db_xref=&quot;taxon:35631&quot;</span></span>
<span class="line"><span>                   /country=&quot;Philippines&quot;</span></span>
<span class="line"><span>   Protein         &lt;1..17</span></span>
<span class="line"><span>                   /product=&quot;alpha-conotoxin ImI precursor&quot;</span></span>
<span class="line"><span>   mat_peptide     5..16</span></span>
<span class="line"><span>                   /product=&quot;alpha-conotoxin ImI&quot;</span></span>
<span class="line"><span>                   /note=&quot;the C-terminal glycine of the precursor is post</span></span>
<span class="line"><span>                   translationally removed&quot;</span></span>
<span class="line"><span>                   /calculated_mol_wt=1357</span></span>
<span class="line"><span>                   /peptide=&quot;GCCSDPRCAWRC&quot;</span></span>
<span class="line"><span>   CDS             1..17</span></span>
<span class="line"><span>                   /coded_by=&quot;AY159318.1:&lt;1..54&quot;</span></span>
<span class="line"><span>                   /note=&quot;nAChR antagonist&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 INSDSeq XML 中表示为结构化对象：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>...</span></span>
<span class="line"><span>&lt;INSDFeature&gt;</span></span>
<span class="line"><span>  &lt;INSDFeature_key&gt;mat_peptide&lt;/INSDFeature_key&gt;</span></span>
<span class="line"><span>  &lt;INSDFeature_location&gt;5..16&lt;/INSDFeature_location&gt;</span></span>
<span class="line"><span>  &lt;INSDFeature_intervals&gt;</span></span>
<span class="line"><span>    &lt;INSDInterval&gt;</span></span>
<span class="line"><span>      &lt;INSDInterval_from&gt;5&lt;/INSDInterval_from&gt;</span></span>
<span class="line"><span>      &lt;INSDInterval_to&gt;16&lt;/INSDInterval_to&gt;</span></span>
<span class="line"><span>      &lt;INSDInterval_accession&gt;AAN78128.1&lt;/INSDInterval_accession&gt;</span></span>
<span class="line"><span>    &lt;/INSDInterval&gt;</span></span>
<span class="line"><span>  &lt;/INSDFeature_intervals&gt;</span></span>
<span class="line"><span>  &lt;INSDFeature_quals&gt;</span></span>
<span class="line"><span>    &lt;INSDQualifier&gt;</span></span>
<span class="line"><span>      &lt;INSDQualifier_name&gt;product&lt;/INSDQualifier_name&gt;</span></span>
<span class="line"><span>      &lt;INSDQualifier_value&gt;alpha-conotoxin ImI&lt;/INSDQualifier_value&gt;</span></span>
<span class="line"><span>    &lt;/INSDQualifier&gt;</span></span>
<span class="line"><span>    &lt;INSDQualifier&gt;</span></span>
<span class="line"><span>      &lt;INSDQualifier_name&gt;note&lt;/INSDQualifier_name&gt;</span></span>
<span class="line"><span>      &lt;INSDQualifier_value&gt;the C-terminal glycine of the precursor is</span></span>
<span class="line"><span>         post translationally removed&lt;/INSDQualifier_value&gt;</span></span>
<span class="line"><span>    &lt;/INSDQualifier&gt;</span></span>
<span class="line"><span>    &lt;INSDQualifier&gt;</span></span>
<span class="line"><span>      &lt;INSDQualifier_name&gt;calculated_mol_wt&lt;/INSDQualifier_name&gt;</span></span>
<span class="line"><span>      &lt;INSDQualifier_value&gt;1357&lt;/INSDQualifier_value&gt;</span></span>
<span class="line"><span>    &lt;/INSDQualifier&gt;</span></span>
<span class="line"><span>    &lt;INSDQualifier&gt;</span></span>
<span class="line"><span>      &lt;INSDQualifier_name&gt;peptide&lt;/INSDQualifier_name&gt;</span></span>
<span class="line"><span>      &lt;INSDQualifier_value&gt;GCCSDPRCAWRC&lt;/INSDQualifier_value&gt;</span></span>
<span class="line"><span>    &lt;/INSDQualifier&gt;</span></span>
<span class="line"><span>  &lt;/INSDFeature_quals&gt;</span></span>
<span class="line"><span>&lt;/INSDFeature&gt;</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 <strong>-pattern</strong> {sequence} <strong>-group</strong> {feature} <strong>-block</strong> {qualifier} 结构可以轻松探索数据层次结构。然而，特征和限定符名称在数据值中表示，而不是 XML 元素标签中，因此需要 -if 和 -equals 来选择所需的对象和内容。</p><h3 id="生成限定符提取命令" tabindex="-1"><a class="header-anchor" href="#生成限定符提取命令"><span>生成限定符提取命令</span></a></h3><p>为了方便探索序列记录，xtract <strong>-insd</strong> 辅助功能从命令行中的特征和限定符名称生成适当的嵌套提取命令。（两个计算限定符，<strong>sub_sequence</strong> 和 <strong>feat_location</strong>，也受到支持。）</p><p>在独立命令中运行 xtract -insd 会打印一个新的 xtract 语句，然后可以将其复制、必要时编辑并粘贴到其他查询中。在多步骤管道中运行 -insd 命令会动态执行自动构建的查询。</p><p>提供可选的（完整/部分）位置指示、特征键以及一个或多个限定符名称：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -insd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> complete</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mat_peptide</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> product</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> peptide</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>创建一个新的 xtract 语句，该语句将生成具有完整位置的成熟肽特征的限定符值表。该语句以记录登录号和查找指定类型特征的指令开头：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDSeq</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -ACCN</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDSeq_accession-version</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -SEQ</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDSeq_sequence</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -group</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDFeature</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDFeature_key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -equals</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mat_peptide</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -branch</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDFeature</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -unless</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDFeature_partial5</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -or</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDFeature_partial3</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      -clr</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pfx</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&amp;ACCN&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后每个限定符生成自定义提取代码，并附加到不断增长的查询中。例如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDQualifier</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDQualifier_name</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -equals</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> product</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDQualifier_value</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="蜗牛毒素肽序列" tabindex="-1"><a class="header-anchor" href="#蜗牛毒素肽序列"><span>蜗牛毒素肽序列</span></a></h3><p>在一个关于锥蜗牛毒素的搜索中结合 xtract -insd 命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;conotoxin&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -target</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> protein</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efilter</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;mat_peptide [FKEY]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gpc</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -insd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> complete</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mat_peptide</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;%peptide&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> product</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mol_wt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> peptide</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="范例神经毒素肽的表格输出及其过滤与处理步骤" tabindex="-1"><a class="header-anchor" href="#范例神经毒素肽的表格输出及其过滤与处理步骤"><span>范例神经毒素肽的表格输出及其过滤与处理步骤</span></a></h1><h2 id="表格内容" tabindex="-1"><a class="header-anchor" href="#表格内容"><span>表格内容</span></a></h2><p>以下是神经毒素肽样本的表格数据，包含了登录号、成熟肽长度、产品名称、计算分子量和氨基酸序列：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>AAN78128.1    12    alpha-conotoxin ImI    1357    GCCSDPRCAWRC</span></span>
<span class="line"><span>ADB65789.1    20    conotoxin Cal 16       2134    LEMQGCVCNANAKFCCGEGR</span></span>
<span class="line"><span>ADB65788.1    20    conotoxin Cal 16       2134    LEMQGCVCNANAKFCCGEGR</span></span>
<span class="line"><span>AGO59814.1    32    del13b conotoxin       3462    DCPTSCPTTCANGWECCKGYPCVRQHCSGCNH</span></span>
<span class="line"><span>AAO33169.1    16    alpha-conotoxin GIC    1615    GCCSHPACAGNNQHIC</span></span>
<span class="line"><span>AAN78279.1    21    conotoxin Vx-II        2252    WIDPSHYCCCGGGCTDDCVNC</span></span>
<span class="line"><span>AAF23167.1    31    BeTX toxin             3433    CRAEGTYCENDSQCCLNECCWGGCGHPCRHP</span></span>
<span class="line"><span>ABW16858.1    15    marmophin              1915    DWEYHAHPKPNSFWT</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="使用-unix-命令和-edirect-脚本进行数据处理" tabindex="-1"><a class="header-anchor" href="#使用-unix-命令和-edirect-脚本进行数据处理"><span>使用 Unix 命令和 EDirect 脚本进行数据处理</span></a></h2><p>以下是通过一系列 Unix 命令和 EDirect 脚本对表格数据进行过滤和处理的步骤：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> conotoxin</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">filter-columns</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;10 &lt;= $2 &amp;&amp; $2 &lt;= 30&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sort-table</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -k</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sort-table</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -k</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 2,2n</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">align-columns</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此命令流程实现以下功能：</p><ol><li>通过产品名称过滤，保留包含“conotoxin”的行。</li><li>限制结果在指定的肽长度范围内（10 到 30 之间）。</li><li>去除重复的序列。</li><li>按肽长度排序表格。</li><li>对齐列以获得更清晰的打印输出。</li></ol><p>处理后的表格如下：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>AAN78127.1    12    alpha-conotoxin ImII             1515    ACCSDRRCRWRC</span></span>
<span class="line"><span>AAN78128.1    12    alpha-conotoxin ImI              1357    GCCSDPRCAWRC</span></span>
<span class="line"><span>ADB43130.1    15    conotoxin Cal 1a                 1750    KCCKRHHGCHPCGRK</span></span>
<span class="line"><span>ADB43131.1    15    conotoxin Cal 1b                 1708    LCCKRHHGCHPCGRT</span></span>
<span class="line"><span>AAO33169.1    16    alpha-conotoxin GIC              1615    GCCSHPACAGNNQHIC</span></span>
<span class="line"><span>ADB43128.1    16    conotoxin Cal 5.1                1829    DPAPCCQHPIETCCRR</span></span>
<span class="line"><span>AAD31913.1    18    alpha A conotoxin Tx2            2010    PECCSHPACNVDHPEICR</span></span>
<span class="line"><span>ADB43129.1    18    conotoxin Cal 5.2                2008    MIQRSQCCAVKKNCCHVG</span></span>
<span class="line"><span>ADB65789.1    20    conotoxin Cal 16                 2134    LEMQGCVCNANAKFCCGEGR</span></span>
<span class="line"><span>ADD97803.1    20    conotoxin Cal 1.2                2206    AGCCPTIMYKTGACRTNRCR</span></span>
<span class="line"><span>AAD31912.1    21    alpha A conotoxin Tx1            2304    PECCSDPRCNSSHPELCGGRR</span></span>
<span class="line"><span>AAN78279.1    21    conotoxin Vx-II                  2252    WIDPSHYCCCGGGCTDDCVNC</span></span>
<span class="line"><span>ADB43125.1    22    conotoxin Cal 14.2               2157    GCPADCPNTCDSSNKCSPGFPG</span></span>
<span class="line"><span>ADD97802.1    23    conotoxin Cal 6.4                2514    GCWLCLGPNACCRGSVCHDYCPR</span></span>
<span class="line"><span>AAD31915.1    24    O-superfamily conotoxin TxO2     2565    CYDSGTSCNTGNQCCSGWCIFVCL</span></span>
<span class="line"><span>AAD31916.1    24    O-superfamily conotoxin TxO3     2555    CYDGGTSCDSGIQCCSGWCIFVCF</span></span>
<span class="line"><span>AAD31920.1    24    omega conotoxin SVIA mutant 1    2495    CRPSGSPCGVTSICCGRCYRGKCT</span></span>
<span class="line"><span>AAD31921.1    24    omega conotoxin SVIA mutant 2    2419    CRPSGSPCGVTSICCGRCSRGKCT</span></span>
<span class="line"><span>ABE27006.1    25    conotoxin p114a                  2917    FPRPRICNLACRAGIGHKYPFCHCR</span></span>
<span class="line"><span>ABE27007.1    25    conotoxin p114.1                 2645    GPGSAICNMACRLGQGHMYPFCNCN</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="使用-xtract-的-insdx-变体" tabindex="-1"><a class="header-anchor" href="#使用-xtract-的-insdx-变体"><span>使用 xtract 的-insdx 变体</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> protein</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;conotoxin&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efilter</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;mat_peptide [FKEY]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gpc</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -insdx</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> complete</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mat_peptide</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;%peptide&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> product</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mol_wt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> peptide</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Rec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -select</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> product</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -contains</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> conotoxin</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Rec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -sort</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mol_wt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将输出表格直接保存为 XML 格式，XML 标签名取自原始的限定符名：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>... </span></span>
<span class="line"><span>  &lt;Rec&gt;</span></span>
<span class="line"><span>  &lt;accession&gt;AAO33169.1&lt;/accession&gt;</span></span>
<span class="line"><span>  &lt;feature_key&gt;mat_peptide&lt;/feature_key&gt;</span></span>
<span class="line"><span>  &lt;peptide_Len&gt;16&lt;/peptide_Len&gt;</span></span>
<span class="line"><span>  &lt;product&gt;alpha-conotoxin GIC&lt;/product&gt;</span></span>
<span class="line"><span>  &lt;mol_wt&gt;1615&lt;/mol_wt&gt;</span></span>
<span class="line"><span>  &lt;peptide&gt;GCCSHPACAGNNQHIC&lt;/peptide&gt;</span></span>
<span class="line"><span>&lt;/Rec&gt;</span></span>
<span class="line"><span>&lt;Rec&gt;</span></span>
<span class="line"><span>  &lt;accession&gt;AIC77099.1&lt;/accession&gt;</span></span>
<span class="line"><span>  &lt;feature_key&gt;mat_peptide&lt;/feature_key&gt;</span></span>
<span class="line"><span>  &lt;peptide_Len&gt;16&lt;/peptide_Len&gt;</span></span>
<span class="line"><span>  &lt;product&gt;conotoxin Im1.2&lt;/product&gt;</span></span>
<span class="line"><span>  &lt;mol_wt&gt;1669&lt;/mol_wt&gt;</span></span>
<span class="line"><span>  &lt;peptide&gt;GCCSHPACNVNNPHIC&lt;/peptide&gt;</span></span>
<span class="line"><span>&lt;/Rec&gt;</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用前缀快捷方式“<strong>#</strong>”和“<strong>%</strong>”的限定符名将被修改为使用“_Num”和“_Len”后缀。</p><h3 id="缺少限定符的处理" tabindex="-1"><a class="header-anchor" href="#缺少限定符的处理"><span>缺少限定符的处理</span></a></h3><p>对于缺少特定限定符的记录：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> protein</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;RAG1 [GENE] AND Mus musculus [ORGN]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gpc</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -insd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> source</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> organism</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> strain</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sort-table</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -k</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 2,3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将插入破折号作为占位符：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>P15919.2       Mus musculus               -</span></span>
<span class="line"><span>AAO61776.1     Mus musculus               129/Sv</span></span>
<span class="line"><span>NP_033045.2    Mus musculus               C57BL/6</span></span>
<span class="line"><span>EDL27655.1     Mus musculus               mixed</span></span>
<span class="line"><span>BAD69530.1     Mus musculus castaneus     -</span></span>
<span class="line"><span>BAD69531.1     Mus musculus domesticus    BALB/c</span></span>
<span class="line"><span>BAD69532.1     Mus musculus molossinus    MOA</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="序列坐标" tabindex="-1"><a class="header-anchor" href="#序列坐标"><span>序列坐标</span></a></h2><h3 id="基因位置" tabindex="-1"><a class="header-anchor" href="#基因位置"><span>基因位置</span></a></h3><p>理解序列坐标约定对于使用基因位置检索对应染色体子区域（通过 efetch 或 UCSC 浏览器）是必要的。</p><p>以 GenBank 或 GenPept 格式显示的序列记录使用“基于 1”的坐标系统，序列位置编号从“1”开始：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>  1 catgccattc gttgagttgg aaacaaactt gccggctagc cgcatacccg cggggctgga</span></span>
<span class="line"><span> 61 gaaccggctg tgtgcggcca cagccaccat cctggacaaa cccgaagacg tgagtgaggg</span></span>
<span class="line"><span>121 tcggcgagaa cttgtgggct agggtcggac ctcccaatga cccgttccca tccccaggga</span></span>
<span class="line"><span>181 ccccactccc ctggtaacct ctgaccttcc gtgtcctatc ctcccttcct agatcccttc</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这种约定下，位置指的是序列字母本身：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>C   A   T   G   C   C   A   T   T   C</span></span>
<span class="line"><span>1   2   3   4   5   6   7   8   9  10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>最后一个碱基或残基的位置等于序列的长度。上图中的 ATG 起始密码子在位置 2 到 4（包含在内）。</p><p>对于计算机程序而言，使用“基于 0”的坐标系统可以简化序列位置计算的算术运算。0 基表示法中的 ATG 密码子在位置 1 到 3。（UCSC 浏览器使用的是一种混合的半开放表示法，起始位置是基于 0 的，而终止位置是基于 1 的。）</p><p>NCBI 的软件通常会在输入时将位置转换为基于 0 的坐标，执行所需的计算，然后将结果转换为基于 1 的表示进行显示。这些转换只需简单地从基于 1 的值中减去 1，或将基于 0 的值加 1。</p><h3 id="坐标转换" tabindex="-1"><a class="header-anchor" href="#坐标转换"><span>坐标转换</span></a></h3><p>检索特定基因的文档摘要：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gene</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;BRCA2 [GENE] AND human [ORGN]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docsum</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>返回该基因的染色体位置，以“基于 0”的坐标表示：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>...</span></span>
<span class="line"><span>&lt;GenomicInfoType&gt;</span></span>
<span class="line"><span>  &lt;ChrLoc&gt;13&lt;/ChrLoc&gt;</span></span>
<span class="line"><span>  &lt;ChrAccVer&gt;NC_000013.11&lt;/ChrAccVer&gt;</span></span>
<span class="line"><span>  &lt;ChrStart&gt;32315479&lt;/ChrStart&gt;</span></span>
<span class="line"><span>  &lt;ChrStop&gt;32399671&lt;/ChrStop&gt;</span></span>
<span class="line"><span>  &lt;ExonCount&gt;27&lt;/ExonCount&gt;</span></span>
<span class="line"><span>&lt;/GenomicInfoType&gt;</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将文档摘要传递给 xtract 命令，并使用‑element：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GenomicInfoType</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrAccVer</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrStart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrStop</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>获取登录号和基于 0 的坐标值：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>NC_000013.11    32315479    32399671</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Efetch 有 <strong>‑seq_start</strong> 和 <strong>‑seq_stop</strong> 参数来检索基因片段，但这些参数需要 1 基坐标范围。</p><p>为了解决这个问题，创建了两个额外的 efetch 参数，<strong>‑chr_start</strong> 和 <strong>‑chr_stop</strong>，以允许直接使用基于 0 的坐标：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nuccore</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gb</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> NC_000013.11</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -chr_start</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 32315479</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -chr_stop</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 32399671</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Xtract 现在有数字提取命令来帮助进行坐标转换。选择带有‑inc 参数的字段：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GenomicInfoType</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrAccVer</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -inc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrStart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrStop</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>获取登录号和基于 0 的坐标，然后递增位置以生成基于 1 的值：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>NC_000013.11    32315480    32399672</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>EDirect 提供了所有相关 Entrez 数据库（例如 gene，snp，dbvar）中序列位置的政策，并提供了将这些坐标转换为其他约定的快捷方式。例如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GenomicInfoType</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrAccVer</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -1-based</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrStart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrStop</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>它理解基因文档摘要中的 ChrStart 和 ChrStop 字段是基于 0 的，看到所需输出是基于 1 的，并使用‑inc 逻辑内部转换坐标。同样的：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrAccVer</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -ucsc-based</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrStart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrStop</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>将 0 基的起始值保持不变，但增加原始的停止值以生成可以传递给 UCSC 浏览器的半开放形式：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>NC_000013.11    32315479    32399672</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="基因记录" tabindex="-1"><a class="header-anchor" href="#基因记录"><span>基因记录</span></a></h2><h3 id="区域中的基因" tabindex="-1"><a class="header-anchor" href="#区域中的基因"><span>区域中的基因</span></a></h3><p>要列出位于人类 X 染色体着丝粒两侧标记之间的所有基因，首先检索该染色体上的编码蛋白基因记录：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gene</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Homo sapiens [ORGN] AND X [CHR]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efilter</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -status</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> alive</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -type</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> coding</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docsum</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>通过将记录传递给以下命令来提取基因名称和染色体位置：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> DocumentSummary</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Name</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -DESC</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Description</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GenomicInfoType</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrLoc</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -equals</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> X</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -min</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrStart,ChrStop</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&amp;NAME&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&amp;DESC&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>需要探索每个 GenomicInfoType，因为 X 和 Y 染色体末端有伪常染色体区域：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>...</span></span>
<span class="line"><span>&lt;GenomicInfo&gt;</span></span>
<span class="line"><span>  &lt;GenomicInfoType&gt;</span></span>
<span class="line"><span>    &lt;ChrLoc&gt;X&lt;/ChrLoc&gt;</span></span>
<span class="line"><span>    &lt;ChrAccVer&gt;NC_000023.11&lt;/ChrAccVer&gt;</span></span>
<span class="line"><span>    &lt;ChrStart&gt;155997630&lt;/ChrStart&gt;</span></span>
<span class="line"><span>    &lt;ChrStop&gt;156013016&lt;/ChrStop&gt;</span></span>
<span class="line"><span>    &lt;ExonCount&gt;14&lt;/ExonCount&gt;</span></span>
<span class="line"><span>  &lt;/GenomicInfoType&gt;</span></span>
<span class="line"><span>  &lt;GenomicInfoType&gt;</span></span>
<span class="line"><span>    &lt;ChrLoc&gt;Y&lt;/ChrLoc&gt;</span></span>
<span class="line"><span>    &lt;ChrAccVer&gt;NC_000024.10&lt;/ChrAccVer&gt;</span></span>
<span class="line"><span>    &lt;ChrStart&gt;57184150&lt;/ChrStart&gt;</span></span>
<span class="line"><span>    &lt;ChrStop&gt;57199536&lt;/ChrStop&gt;</span></span>
<span class="line"><span>    &lt;ExonCount&gt;14&lt;/ExonCount&gt;</span></span>
<span class="line"><span>  &lt;/GenomicInfoType&gt;</span></span>
<span class="line"><span>&lt;/GenomicInfo&gt;</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果不限制到 X 染色体，接近 Y 染色体“q”端的 IL9R 副本将错误地与接近 X 染色体着丝粒的基因放在一起，如下所示在 SPIN2A 和 ZXDB 之间：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>...</span></span>
<span class="line"><span>57121860    FAAH2     fatty acid amide hydrolase 2</span></span>
<span class="line"><span>57133042    SPIN2A    spindlin family member 2A</span></span>
<span class="line"><span>57184150    IL9R      interleukin 9 receptor</span></span>
<span class="line"><span>57592010    ZXDB      zinc finger X-linked duplicated B</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在基因限制为 X 染色体之后，结果可以按位置排序，然后过滤和划分：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sort-table</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -k</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1,1n</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> cut</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 2-</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pseudogene</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> uncharacterized</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> hypothetical</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">between-two-genes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AMER1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> FAAH2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>生成位于两个标记之间的已知基因的有序表：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>FAAH2      fatty acid amide hydrolase 2</span></span>
<span class="line"><span>SPIN2A     spindlin family member 2A</span></span>
<span class="line"><span>ZXDB       zinc finger X-linked duplicated B</span></span>
<span class="line"><span>NLRP2B     NLR family pyrin domain containing 2B</span></span>
<span class="line"><span>ZXDA       zinc finger X-linked duplicated A</span></span>
<span class="line"><span>SPIN4      spindlin family member 4</span></span>
<span class="line"><span>ARHGEF9    Cdc42 guanine nucleotide exchange factor 9</span></span>
<span class="line"><span>AMER1      APC membrane recruitment protein 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="基因序列" tabindex="-1"><a class="header-anchor" href="#基因序列"><span>基因序列</span></a></h3><p>编码在序列负链上的基因：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gene</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;DDT [GENE] AND mouse [ORGN]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docsum</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GenomicInfoType</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrAccVer</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrStart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ChrStop</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其坐标（文档摘要中的“基于 0”）的起始位置大于终止位置：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>NC_000076.6    75773373    75771232</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>可以通过“while”循环将这些值读取到 Unix 变量中：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">while</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> IFS</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">$&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> read</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> acn</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> str</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> stp</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nuccore</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gb</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$acn</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -chr_start</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$str</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -chr_stop</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$stp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">done</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后可以使用这些变量以 GenBank 格式获取反向互补子区域：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>LOCUS       NC_000076               2142 bp    DNA     linear   CON 08-AUG-2019</span></span>
<span class="line"><span>DEFINITION  Mus musculus strain C57BL/6J chromosome 10, GRCm38.p6 C57BL/6J.</span></span>
<span class="line"><span>ACCESSION   NC_000076 REGION: complement(75771233..75773374)</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>   gene            1..2142</span></span>
<span class="line"><span>                   /gene=&quot;Ddt&quot;</span></span>
<span class="line"><span>   mRNA            join(1..159,462..637,1869..2142)</span></span>
<span class="line"><span>                   /gene=&quot;Ddt&quot;</span></span>
<span class="line"><span>                   /product=&quot;D-dopachrome tautomerase&quot;</span></span>
<span class="line"><span>                   /transcript_id=&quot;NM_010027.1&quot;</span></span>
<span class="line"><span>   CDS             join(52..159,462..637,1869..1941)</span></span>
<span class="line"><span>                   /gene=&quot;Ddt&quot;</span></span>
<span class="line"><span>                   /codon_start=1</span></span>
<span class="line"><span>                   /product=&quot;D-dopachrome decarboxylase&quot;</span></span>
<span class="line"><span>                   /protein_id=&quot;NP_034157.1&quot;</span></span>
<span class="line"><span>                   /translation=&quot;MPFVELETNLPASRIPAGLENRLCAATATILDKPEDRVSVTIRP</span></span>
<span class="line"><span>                   GMTLLMNKSTEPCAHLLVSSIGVVGTAEQNRTHSASFFKFLTEELSLDQDRIVIRFFP</span></span>
<span class="line"><span>                   ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以通过 efetch ‑revcomp 选择正链序列范围的反向互补。</p><h2 id="外部数据" tabindex="-1"><a class="header-anchor" href="#外部数据"><span>外部数据</span></a></h2><h3 id="查询外部服务" tabindex="-1"><a class="header-anchor" href="#查询外部服务"><span>查询外部服务</span></a></h3><p>nquire 程序使用命令行参数从 RESTful、CGI 或 FTP 服务器获取数据。查询由命令行参数组成。路径可以分为组件，并用斜杠组合。剩余的参数（以破折号开头）是标记/值对，标记之间的多个值用逗号组合。</p><p>例如，一个 POST 请求：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -url</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> http://w1.weather.gov/xml/current_obs/KSFO.xml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> current_observation</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -tab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> weather</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> temp_f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> wind_dir</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> wind_mph</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>返回旧金山机场的当前天气报告：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>A Few Clouds</span></span>
<span class="line"><span>54.0</span></span>
<span class="line"><span>Southeast</span></span>
<span class="line"><span>5.8</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>GET 查询：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> http://collections.mnh.si.edu/services/resolver/resolver.php</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -voucher</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Birds:321082&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Result</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -tab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ScientificName</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> StateProvince</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Country</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>返回红喉蜂鸟标本的信息：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Archilochus colubris</span></span>
<span class="line"><span>Maryland</span></span>
<span class="line"><span>United States</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>而 FTP 请求：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -ftp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ftp.ncbi.nlm.nih.gov</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pub/gdp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ideogram_9606_GCF_000001305.14_850_V1</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> acen</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> cut</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1,2,6,7</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> awk</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;/^X\t/&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>返回人类 X 染色体着丝粒的（估计）序列坐标数据（显示 p 臂和 q 臂的交界处）：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>X    p    58100001    61000000</span></span>
<span class="line"><span>X    q    61000001    63800000</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Nquire 还可以生成 FTP 服务器目录中的文件列表：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -lst</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ftp://nlmpubs.nlm.nih.gov</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> online/mesh/MESH_FILES/xmlmesh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或者生成 FTP 文件名的列表，并在文件名前加上文件大小的列：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -dir</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ftp.ncbi.nlm.nih.gov</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gene/DATA</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>最后，nquire 可以将 FTP 文件下载到本地磁盘：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -dwn</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ftp.nlm.nih.gov</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> online/mesh/MESH_FILES/xmlmesh</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> desc2021.zip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果安装了 Aspera Connect，nquire ‑asp 命令将提供更快的从 NCBI 服务器检索的速度：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -asp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ftp.ncbi.nlm.nih.gov</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> baseline</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed22n0001.xml.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>没有 Aspera Connect 时，nquire ‑asp 会默认使用‑dwn 逻辑。</p><h3 id="xml-命名空间" tabindex="-1"><a class="header-anchor" href="#xml-命名空间"><span>XML 命名空间</span></a></h3><p>命名空间前缀后跟一个冒号，而前导冒号匹配任何前缀：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -url</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> http://webservice.wikipathways.org</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> getPathway</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pwId</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> WP455</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;ns1:getPathwayResponse&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -decode</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;:gpml&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后可以处理嵌入的图形路径标记语言对象：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Pathway</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Xref</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> @Database</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -equals</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Entrez Gene&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -tab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> @ID</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自动-xtract-格式转换" tabindex="-1"><a class="header-anchor" href="#自动-xtract-格式转换"><span>自动 Xtract 格式转换</span></a></h3><p>Xtract 现在可以检测并转换 JSON、文本 ASN.1 和 GenBank/GenPept 平面文件格式的输入数据。以下描述的 transmute 命令或快捷脚本仅在您想要检查中间 XML 或覆盖默认转换设置时需要。</p><h3 id="json-数组" tabindex="-1"><a class="header-anchor" href="#json-数组"><span>JSON 数组</span></a></h3><p>从斯克里普斯研究所开发的生物数据库服务中检索的人类β-珠蛋白的综合基因信息：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> http://mygene.info/v3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gene</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3043</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>包含一个多维数组的外显子坐标，格式为 JavaScript 对象表示法（JSON）：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&quot;position&quot;: [</span></span>
<span class="line"><span>  [</span></span>
<span class="line"><span>    5225463,</span></span>
<span class="line"><span>    5225726</span></span>
<span class="line"><span>  ],</span></span>
<span class="line"><span>  [</span></span>
<span class="line"><span>    5226576,</span></span>
<span class="line"><span>    5226799</span></span>
<span class="line"><span>  ],</span></span>
<span class="line"><span>  [</span></span>
<span class="line"><span>    5226929,</span></span>
<span class="line"><span>    5227071</span></span>
<span class="line"><span>  ]</span></span>
<span class="line"><span>],</span></span>
<span class="line"><span>&quot;strand&quot;: -1,</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以使用 transmute <strong>‑j2x</strong>（或快捷脚本 <strong>json2xml</strong>）转换为 XML：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">transmute</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -j2x</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>默认的&quot;<strong>‑nest</strong> element&quot;参数为每个级别分配不同的标签名称：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;position&gt;</span></span>
<span class="line"><span>  &lt;position_E&gt;5225463&lt;/position_E&gt;</span></span>
<span class="line"><span>  &lt;position_E&gt;5225726&lt;/position_E&gt;</span></span>
<span class="line"><span>&lt;/position&gt;</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="json-混合" tabindex="-1"><a class="header-anchor" href="#json-混合"><span>JSON 混合</span></a></h3><p>查询人类绿敏感视蛋白基因：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> http://mygene.info/v3/gene/2652</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">transmute</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -j2x</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>返回的数据包含路径部分的异构对象混合：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;pathway&gt;</span></span>
<span class="line"><span>  &lt;reactome&gt;</span></span>
<span class="line"><span>    &lt;id&gt;R-HSA-162582&lt;/id&gt;</span></span>
<span class="line"><span>    &lt;name&gt;Signal Transduction&lt;/name&gt;</span></span>
<span class="line"><span>  &lt;/reactome&gt;</span></span>
<span class="line"><span>  ...</span></span>
<span class="line"><span>  &lt;wikipathways&gt;</span></span>
<span class="line"><span>    &lt;id&gt;WP455&lt;/id&gt;</span></span>
<span class="line"><span>    &lt;name&gt;GPCRs, Class A Rhodopsin-like&lt;/name&gt;</span></span>
<span class="line"><span>  &lt;/wikipathways&gt;</span></span>
<span class="line"><span>&lt;/pathway&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用父对象/星号构造可以访问父对象的各个组件，而无需明确指定它们的名称。对于打印，子对象的名称由问号表示：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> opt</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -group</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;pathway/*&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -pfc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;?,name,id&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>这将显示路径数据库引用的表格：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>reactome        Signal Transduction                R-HSA-162582</span></span>
<span class="line"><span>reactome        Disease                            R-HSA-1643685</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>reactome        Diseases of the neuronal system    R-HSA-9675143</span></span>
<span class="line"><span>wikipathways    GPCRs, Class A Rhodopsin-like      WP455</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Xtract <strong>‑path</strong> 可以使用由点或斜杠分隔的多级对象地址进行探索：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> opt</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -path</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pathway.wikipathways.id</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -tab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="asn-1-转换" tabindex="-1"><a class="header-anchor" href="#asn-1-转换"><span>ASN.1 转换</span></a></h3><p>类似于‑j2x，transmute <strong>‑a2x</strong>（或 <strong>asn2xml</strong>）将 Abstract Syntax Notation 1（ASN.1）文本文件转换为 XML。</p><h3 id="表格到-xml" tabindex="-1"><a class="header-anchor" href="#表格到-xml"><span>表格到 XML</span></a></h3><p>使用 transmute <strong>‑t2x</strong>（或 <strong>tbl2xml</strong>）可以轻松将制表符分隔的文件转换为 XML：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -ftp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ftp.ncbi.nlm.nih.gov</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gene/DATA</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gene_info.gz</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">gunzip</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> NEWENTRY</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> cut</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 2,3</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">transmute</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -t2x</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Set</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rec</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Rec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -skip</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Code</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Name</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这会接受一系列命令行参数，使用标签名来包装各个列，并跳过包含标题信息的第一行输入，生成一个新的 XML 文件：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>...</span></span>
<span class="line"><span>&lt;Rec&gt;</span></span>
<span class="line"><span>  &lt;Code&gt;1246500&lt;/Code&gt;</span></span>
<span class="line"><span>  &lt;Name&gt;repA1&lt;/Name&gt;</span></span>
<span class="line"><span>&lt;/Rec&gt;</span></span>
<span class="line"><span>&lt;Rec&gt;</span></span>
<span class="line"><span>  &lt;Code&gt;1246501&lt;/Code&gt;</span></span>
<span class="line"><span>  &lt;Name&gt;repA2&lt;/Name&gt;</span></span>
<span class="line"><span>&lt;/Rec&gt;</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>transmute ‑t2x <strong>‑header</strong> 参数将从文件的第一行获取标签名：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -ftp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ftp.ncbi.nlm.nih.gov</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gene/DATA</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gene_info.gz</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">gunzip</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> NEWENTRY</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> cut</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 2,3</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">transmute</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -t2x</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Set</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rec</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Rec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -header</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="csv-到-xml" tabindex="-1"><a class="header-anchor" href="#csv-到-xml"><span>CSV 到 XML</span></a></h3><p>类似于‑t2x，transmute <strong>‑c2x</strong>（或 <strong>csv2xml</strong>）将逗号分隔值（CSV）文件转换为 XML。</p><h3 id="genbank-下载" tabindex="-1"><a class="header-anchor" href="#genbank-下载"><span>GenBank 下载</span></a></h3><p>整个 GenBank 格式发布文件集可以通过以下方式下载：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">fls</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$( </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -lst</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ftp.ncbi.nlm.nih.gov</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> genbank</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> )</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> div</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  bct</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> con</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> env</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> est</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gss</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> htc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> htg</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> inv</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mam</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pat</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  phg</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pln</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pri</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sts</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> syn</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> tsa</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> una</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> vrl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> vrt</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">  echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$fls</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;.seq.gz&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;gb${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  sort</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -V</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> skip-if-file-exists</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -asp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ftp.ncbi.nlm.nih.gov</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> genbank</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">done</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以从&quot;for&quot;循环中移除不需要的分区，以限制检索到特定的测序类别或分类区域。</p><h3 id="genbank-到-xml" tabindex="-1"><a class="header-anchor" href="#genbank-到-xml"><span>GenBank 到 XML</span></a></h3><p>最新的 GenBank 病毒发布文件也可以从 NCBI 服务器下载：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -lst</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ftp.ncbi.nlm.nih.gov</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> genbank</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;^gbvrl&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;.seq.gz&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> sort</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -V</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">tail</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> skip-if-file-exists</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -asp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ftp.ncbi.nlm.nih.gov</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> genbank</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以通过生物体名称或分类标识符，或通过存在或不存在的任意文本字符串，选择 GenBank 平面文件记录，并使用 transmute <strong>‑gbf</strong>（或 <strong>filter-genbank</strong>）进行筛选：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">gunzip</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> *</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.seq.gz</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> filter-genbank</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -taxid</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 11292</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>由于 xtract 现在可以读取 JSON、ASN.1 和 GenBank 格式，可以将筛选后的平面文件传递给 xtract 以获取各个编码区域的特征位置间隔和底层序列：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -insd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CDS</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gene</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> product</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> feat_location</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sub_sequence</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>无需明确的 transmute <strong>‑g2x</strong>（或 <strong>gbf2xml</strong>）步骤。</p><h3 id="genpept-到-xml" tabindex="-1"><a class="header-anchor" href="#genpept-到-xml"><span>GenPept 到 XML</span></a></h3><p>最新的 GenPept 每日增量更新文件可以下载：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -ftp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ftp.ncbi.nlm.nih.gov</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> genbank</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> daily-nc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Last.File</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;s/flat/gnp/g&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nquire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -ftp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ftp.ncbi.nlm.nih.gov</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> genbank</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> daily-nc</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">gunzip</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> transmute</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -g2x</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>并且提取的 INSDSeq XML 可以以类似的方式处理：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDSeq</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -select</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INSDQualifier_value</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -equals</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;taxon:2697049&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -insd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mat_peptide</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> product</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sub_sequence</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="本地-pubmed-缓存" tabindex="-1"><a class="header-anchor" href="#本地-pubmed-缓存"><span>本地 PubMed 缓存</span></a></h2><p>当需要获取几千条记录时，从 Entrez 获取数据效果良好，但对于更大规模的数据集，下载时间会成为一个限制因素。</p><p>最近的技术进步提供了一种经济实惠且实用的替代方案。高性能 NVMe 固态硬盘（消除了文件访问和记账操作的旋转延迟）现在可以轻松购买到。现代高容量文件系统，如 APFS（使用 64 位 inode）或 Ext4（可以配置为 1 亿个 inode），在当今的计算机上已经很普遍。多层嵌套目录的谨慎安排（每个目录不超过 100 个子文件夹或记录文件）确保了这些增强功能的最大效率利用。</p><p>这些功能的结合允许本地记录存储（预先从 PubMed FTP 发布文件中填充）成为按需网络检索的有效替代方案，同时避免了在计算机上安装和支持传统数据库产品的需要。</p><h3 id="随机访问存档" tabindex="-1"><a class="header-anchor" href="#随机访问存档"><span>随机访问存档</span></a></h3><p>EDirect 现在可以将超过 3500 万条活跃的 PubMed 记录预加载到价格便宜的外部 500 GB（千兆字节）固态硬盘上作为单个文件，以便快速检索。例如，PMID 2539356 将存储在：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>/pubmed/Archive/02/53/93/2539356.xml.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用文件夹层次结构来组织数据，以便随机访问任何记录。</p><p>本地存档是一个完全自包含的一站式系统，用户无需下载、配置和维护复杂的第三方数据库软件。</p><p>在您的配置文件中设置一个环境变量以引用外部驱动器的一部分：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> EDIRECT_LOCAL_ARCHIVE</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">external_drive_name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或者设置单独的环境变量，以便将中间步骤保存在外部 SSD 上，但将结果存档保存在计算机内部存储的指定区域：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> EDIRECT_LOCAL_ARCHIVE</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$HOME</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">internal_directory_name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> EDIRECT_LOCAL_WORKING</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">external_drive_name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>在这种情况下，本地存档将在内部驱动器上存储大约 180 GB，或者如果也构建了本地搜索索引（见下文），则最多存储 250 GB。</p><p>然后运行 <strong>archive-pubmed</strong> 来下载 PubMed 发布文件并将每个记录分发到驱动器上。这个过程需要几个小时才能完成，但随后的更新是增量更新，应该在几分钟内完成。</p><p>从本地存档中检索超过 125,000 条压缩的 PubMed 记录：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;PNAS [JOUR]&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pub</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> abstract</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> uid</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> stream-pubmed</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> gunzip</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>大约需要 20 秒钟。从 NCBI 的网络服务中使用 efetch ‑format xml 检索这些记录大约需要 40 分钟。</p><p>即使是适度的 PubMed 查询结果集也能从使用本地缓存中受益。对 191 篇论文进行反向引用查找：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Cozzarelli NR [AUTH]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> elink</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -cited</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>需要 13 秒钟来匹配 9620 篇后续文章。从本地存档中检索它们：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> uid</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> fetch-pubmed</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>不到一秒钟即可完成。打印这些记录中所有作者的名字：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Author</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -sep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot; &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -tab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LastName,Initials</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>允许创建一个频率表：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sort-uniq-count-rank</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>列出最常引用原始论文的作者：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>145    Cozzarelli NR</span></span>
<span class="line"><span>108    Maxwell A</span></span>
<span class="line"><span>86     Wang JC</span></span>
<span class="line"><span>81     Osheroff N</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从网络服务中获取将使运行时间从 14 秒延长到超过 2 分钟。</p><h3 id="本地搜索索引" tabindex="-1"><a class="header-anchor" href="#本地搜索索引"><span>本地搜索索引</span></a></h3><p>类似的分而治之策略用于创建适合大型数据挖掘查询的本地信息检索系统。运行 <strong>archive-pubmed ‑index</strong> 从存储在本地存档中的记录中填充检索索引文件。初始索引也需要几个小时。由于 PubMed 更新每天发布一次，可能方便在晚上开始重新索引并在夜间运行。</p><p>对于 PubMed 标题和主要摘要，索引过程在特定前缀后删除连字符，去除重音符号和变音符号，在标点符号处拆分单词，纠正编码伪影，并拼写出希腊字母，以便于科学术语的搜索。然后，它准备带有术语位置的倒排索引，并使用它们构建分布式术语列表和发布文件。</p><p>例如，包含“cancer”一词的术语列表在标题或摘要中将位于：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>/pubmed/Postings/TIAB/c/a/n/c/canc.TIAB.trm</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>因此，对癌症的查询只需要加载总索引的很小一部分。软件支持表达式评估、通配符截断、短语查询和接近搜索。</p><p><strong>phrase-search</strong> 脚本（隐含 <strong>‑db pubmed</strong>）提供对本地搜索系统的访问。</p><p>显示索引字段名称、特定字段的所有术语，以及术语加记录计数：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -fields</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -terms</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> TITL</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -totals</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PROP</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>术语用尾随星号截断，可以扩展以显示单个发布计数：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -count</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;catabolite repress*&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -counts</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;catabolite repress*&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询评估包括布尔操作和括号表达式：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;(literacy AND numeracy) NOT (adolescent OR child)&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查询中的相邻单词被视为连续短语：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;selective serotonin reuptake inhibitor&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>每个加号将替换短语中的一个单词，连续的波浪号表示连续短语之间的最大距离：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;vitamin c + + common cold&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;vitamin c ~ ~ common cold&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>精确子字符串匹配，无需布尔运算符或索引字段名称的特殊处理，可以通过-title（在文章标题上）或-exact（在标题或摘要上）获得，而任何字段的部分术语匹配通过-match 提供：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -title</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Genetic Control of Biochemical Reactions in Neurospora.&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -match</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;tn3 transposition immunity [PAIR]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> just-top-hits</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>MeSH 标识符代码、MeSH 层次结构键和出版年份也被索引，并且通过内部映射到适当的 CODE 或 TREE 条目来支持 MESH 字段查询：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;C14.907.617.812* [TREE] AND 2015:2019 [YEAR]&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Raynaud Disease [MESH]&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>所有查询命令返回一个 PMID 列表，可以直接传递给 <strong>fetch-pubmed</strong> 以检索未压缩的记录。例如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;selective serotonin ~ ~ ~ reuptake inhibit*&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">fetch-pubmed</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -num</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AuthorList/Author</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sort-uniq-count</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">reorder-columns</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">head</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 25</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">align-columns</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -g</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> lr</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>进行动态通配符扩展的接近搜索（匹配短语如“selective serotonin and norepinephrine reuptake inhibitors”）并从本地存档中获取 12,966 条 PubMed 记录。然后统计每篇论文的作者数量（一个联盟被视为一个作者），打印每个作者数量对应的论文数量频率表：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>0      51</span></span>
<span class="line"><span>1    1382</span></span>
<span class="line"><span>2    1897</span></span>
<span class="line"><span>3    1906</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>phrase-search 和 fetch-pubmed 脚本是 <strong>rchive</strong> 程序的前端，后者用于构建和搜索倒排检索系统。Rchive 是多线程的，以提高速度，从本地存档中并行检索记录，并在评估标题词作为连续短语之前并行获取所有术语的位置索引。</p><p>可以通过运行年度记录计数的累加和来计算 PubMed 的累积规模。在半对数图上，随时间呈指数增长将表现为大致线性的曲线：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -totals</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> YEAR</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">print-columns</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;$2, $1, total += $1&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">print-columns</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;$1, log($2)/log(10), log($3)/log(10)&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">filter-columns</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;$1 &gt;= 1800 &amp;&amp; $1 &lt; YR&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xy-plot</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> annual-and-cumulative.png</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自然语言处理" tabindex="-1"><a class="header-anchor" href="#自然语言处理"><span>自然语言处理</span></a></h3><p>NCBI 的生物医学文本挖掘小组执行计算分析，以从文章内容中提取化学、疾病和基因参考。NLM 对 PubMed 记录的索引分配了基因功能参考（GeneRIF）映射。</p><p>定期运行 <strong>archive-ncbinlp ‑index</strong>（每月）将自动刷新任何过期的支持文件，然后索引 CHEM、DISZ、GENE 和几个基因子字段（GRIF、GSYN 和 PREF）中的连接：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -terms</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> DISZ</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Raynaud</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -counts</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Raynaud* [DISZ]&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Raynaud Disease [DISZ]&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="跟踪引用链接" tabindex="-1"><a class="header-anchor" href="#跟踪引用链接"><span>跟踪引用链接</span></a></h3><p>运行 <strong>archive-nihocc ‑index</strong> 将下载最新的 NIH 开放引用集合月度发布，并构建 CITED 和 CITES 索引，相当于本地的 elink ‑cited 和‑cites 命令。</p><p>通过将一个或多个 PMID 传递给 phrase-search <strong>‑link</strong> 来检索引用链接：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Havran W* [AUTH]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -link</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CITED</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>这将返回 6504 篇引用原始 96 篇论文的文章的 PMID。然后获取并分析这些记录：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">fetch-pubmed</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -histogram</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Journal/ISOAbbreviation</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sort-table</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -nr</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> head</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>显示后续文章发表的最受欢迎的期刊：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>921    J Immunol</span></span>
<span class="line"><span>293    Eur J Immunol</span></span>
<span class="line"><span>248    J Exp Med</span></span>
<span class="line"><span>168    Front Immunol</span></span>
<span class="line"><span>149    Proc Natl Acad Sci U S A</span></span>
<span class="line"><span>139    Cell Immunol</span></span>
<span class="line"><span>121    Int Immunol</span></span>
<span class="line"><span>106    J Invest Dermatol</span></span>
<span class="line"><span>105    Immunol Rev</span></span>
<span class="line"><span>99     Immunity</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="快速扫描-pubmed" tabindex="-1"><a class="header-anchor" href="#快速扫描-pubmed"><span>快速扫描 PubMed</span></a></h3><p>如果运行 <strong>expand-current</strong> 脚本，可以对非冗余的活跃 PubMed 记录集进行临时扫描：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $EDIRECT_LOCAL_WORKING</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/pubmed/Scratch/Current/</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.xml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -timer</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -turbo</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -PMID</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> MedlineCitation/PMID</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -group</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AuthorList</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;#LastName&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -eq</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 7</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&amp;PMID&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> LastName</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>发现 1,700,652 篇有七位作者的文章。（此查询排除了联盟和其他命名的研究人员。作者数量现在在 ANUM 字段中索引。）</p><p>Xtract 使用 Boyer-Moore-Horspool 算法将 XML 流分割成单独的记录，将它们分发给多个数据探索和提取函数实例并行执行。具有固态硬盘的多核计算机可以在不到 4 分钟内处理所有的 PubMed 记录。</p><p>expand-current 脚本现在调用 xtract -index 在每条 PubMed 记录之前放置一个 XML 大小对象：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>...</span></span>
<span class="line"><span>&lt;/PubmedArticle&gt;</span></span>
<span class="line"><span>&lt;NEXT_RECORD_SIZE&gt;6374&lt;/NEXT_RECORD_SIZE&gt;</span></span>
<span class="line"><span>&lt;PubmedArticle&gt;</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>xtract <strong>‑turbo</strong> 标志读取此预先计算的信息，以大约将记录分割速度提高一倍，这是在许多 CPU 核心可用时的速率限制步骤。通过适当的冷却，应该允许多达十几个核心对批量数据提取吞吐量做出贡献。</p><h3 id="用户指定的术语索引" tabindex="-1"><a class="header-anchor" href="#用户指定的术语索引"><span>用户指定的术语索引</span></a></h3><p>运行 <strong>custom-index</strong> 与 PubMed 索引器脚本和它填充的字段名称：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">custom-index</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> $( </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">which</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> idx-grant</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ) </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">GRNT</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>将用户指定的索引集成到本地搜索系统中。<strong>idx-grant</strong> 脚本：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> IdxDocumentSet</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rec</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> IdxDocument</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -wrp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> IdxUid</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> MedlineCitation/PMID</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -clr</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rst</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -tab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -group</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pkg</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> IdxSearchFields</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -block</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -wrp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GRNT</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Grant/GrantID</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在其前三行中具有可重用的样板，并按资助标识符索引 PubMed 记录：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>...</span></span>
<span class="line"><span>&lt;IdxDocument&gt;</span></span>
<span class="line"><span>  &lt;IdxUid&gt;2539356&lt;/IdxUid&gt;</span></span>
<span class="line"><span>  &lt;IdxSearchFields&gt;</span></span>
<span class="line"><span>    &lt;GRNT&gt;AI 00468&lt;/GRNT&gt;</span></span>
<span class="line"><span>    &lt;GRNT&gt;GM 07197&lt;/GRNT&gt;</span></span>
<span class="line"><span>    &lt;GRNT&gt;GM 29067&lt;/GRNT&gt;</span></span>
<span class="line"><span>  &lt;/IdxSearchFields&gt;</span></span>
<span class="line"><span>&lt;/IdxDocument&gt;</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>一旦完成了最终反演：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>...</span></span>
<span class="line"><span>&lt;InvDocument&gt;</span></span>
<span class="line"><span>  &lt;InvKey&gt;ai 00468&lt;/InvKey&gt;</span></span>
<span class="line"><span>  &lt;InvIDs&gt;</span></span>
<span class="line"><span>    &lt;GRNT&gt;2539356&lt;/GRNT&gt;</span></span>
<span class="line"><span>  &lt;/InvIDs&gt;</span></span>
<span class="line"><span>&lt;/InvDocument&gt;</span></span>
<span class="line"><span>&lt;InvDocument&gt;</span></span>
<span class="line"><span>  &lt;InvKey&gt;gm 07197&lt;/InvKey&gt;</span></span>
<span class="line"><span>  &lt;InvIDs&gt;</span></span>
<span class="line"><span>    &lt;GRNT&gt;2539356&lt;/GRNT&gt;</span></span>
<span class="line"><span>  &lt;/InvIDs&gt;</span></span>
<span class="line"><span>&lt;/InvDocument&gt;</span></span>
<span class="line"><span>&lt;InvDocument&gt;</span></span>
<span class="line"><span>  &lt;InvKey&gt;gm 29067&lt;/InvKey&gt;</span></span>
<span class="line"><span>  &lt;InvIDs&gt;</span></span>
<span class="line"><span>    &lt;GRNT&gt;2539356&lt;/InvIDs&gt;</span></span>
<span class="line"><span>  &lt;/InvIDs&gt;</span></span>
<span class="line"><span>&lt;/InvDocument&gt;</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>和发布步骤完成后，新字段即可进行搜索。</p><h3 id="按-xml-子集处理" tabindex="-1"><a class="header-anchor" href="#按-xml-子集处理"><span>按 XML 子集处理</span></a></h3><p>查询在选定期刊中发表的摘要文章，从本地缓存中检索，并进行多步转换：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;PNAS [JOUR]&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pub</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> abstract</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> uid</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> fetch-pubmed</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -stops</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rec</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Rec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PubmedArticle</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -wrp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Year</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -year</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;PubDate/*&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -wrp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Abst</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -words</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Abstract/AbstractText</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rec</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Pub</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Rec</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -wrp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Year</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Year</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -wrp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Num</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -num</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Abst</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> countsByYear.xml</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>返回每条记录的出版年份和摘要中的单词数的结构化数据：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;Pub&gt;&lt;Year&gt;2018&lt;/Year&gt;&lt;Num&gt;198&lt;/Num&gt;&lt;/Pub&gt;</span></span>
<span class="line"><span>&lt;Pub&gt;&lt;Year&gt;2018&lt;/Year&gt;&lt;Num&gt;167&lt;/Num&gt;&lt;/Pub&gt;</span></span>
<span class="line"><span>&lt;Pub&gt;&lt;Year&gt;2018&lt;/Year&gt;&lt;Num&gt;242&lt;/Num&gt;&lt;/Pub&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>（“<strong>&gt;</strong>”重定向将结果保存到文件中。）</p><p>以下“for”循环使用 xtract ‑select 将处理的查询结果限制为每次一年，并将相关子集传递给第二个 xtract 命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> yr</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">1960..2021}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  cat</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> countsByYear.xml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Raw</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Pub</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -select</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Year</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -eq</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$yr</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Raw</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -lbl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$yr</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -avg</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Num</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">done</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>应用‑avg 到单词计数，以计算当前年份每篇文章的平均摘要单词数：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>1969    122</span></span>
<span class="line"><span>1970    120</span></span>
<span class="line"><span>1971    127</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>2018    207</span></span>
<span class="line"><span>2019    207</span></span>
<span class="line"><span>2020    208</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以通过重定向结果到文件保存结果，或者可以通过以下命令将其打印到终端并以图形格式显示结果：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">tee</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /dev/tty</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xy-plot</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pnas.png</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>最后一步应为：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">rm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> countsByYear.xml</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>以删除中间文件。</p><h3 id="标识符转换" tabindex="-1"><a class="header-anchor" href="#标识符转换"><span>标识符转换</span></a></h3><p>archive-pubmed 脚本还从 NLM FTP 服务器下载 MeSH 描述符信息并生成转换文件：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>...</span></span>
<span class="line"><span>&lt;Rec&gt;</span></span>
<span class="line"><span>  &lt;Code&gt;D064007&lt;/Code&gt;</span></span>
<span class="line"><span>  &lt;Name&gt;Ataxia Telangiectasia Mutated Proteins&lt;/Name&gt;</span></span>
<span class="line"><span>  ...</span></span>
<span class="line"><span>  &lt;Tree&gt;D12.776.157.687.125&lt;/Tree&gt;</span></span>
<span class="line"><span>  &lt;Tree&gt;D12.776.660.720.125&lt;/Tree&gt;</span></span>
<span class="line"><span>&lt;/Rec&gt;</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>该文件可用于将 MeSH 代码与化学或疾病名称相互映射。例如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $EDIRECT_LOCAL_ARCHIVE</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/pubmed/Data/meshconv.xml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Rec</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -if</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Name</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -starts-with</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;ataxia telangiectasia&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Code</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将返回：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>C565779</span></span>
<span class="line"><span>C576887</span></span>
<span class="line"><span>D001260</span></span>
<span class="line"><span>D064007</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以通过运行以下命令获取有关 MeSH 术语的更多信息：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mesh</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> D064007</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docsum</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="与-entrez-的集成" tabindex="-1"><a class="header-anchor" href="#与-entrez-的集成"><span>与 Entrez 的集成</span></a></h3><p>使用 phrase-search -filter 将搜索的 UID 结果（此处后跟链接步骤）与本地查询结合：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Berg CM [AUTH]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -link</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CITED</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">phrase-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -filter</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Transposases [MESH]&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>PMID 的中间列表可以保存到文件中，并在随后的 phrase-search ‑filter 查询中通过“cat”传递。它们还可以通过管道传递到 Entrez 历史服务器，通过以下命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">epost</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或直接通过管道传递给 <strong>efetch</strong>。</p><h3 id="固态硬盘准备" tabindex="-1"><a class="header-anchor" href="#固态硬盘准备"><span>固态硬盘准备</span></a></h3><p>要在 Mac 上初始化用于托管本地存档的固态硬盘，请登录到管理员账户，运行磁盘工具，选择查看 -&gt; 显示所有设备，选择顶级外部驱动器，并按擦除图标。将方案弹出设置为 GUID 分区图，并选择 APFS 作为格式。将格式弹出设置为 APFS，输入卷的所需名称，然后点击擦除按钮。</p><p>要完成驱动器配置，请禁用驱动器上的 Spotlight 索引：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mdutil</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> off</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">EDIRECT_LOCAL_ARCHIVE</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mdutil</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -E</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">EDIRECT_LOCAL_ARCHIVE</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>并禁用 FSEvents 日志记录：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> touch</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">EDIRECT_LOCAL_ARCHIVE</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}/.fseventsd/no_log&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>还要将磁盘排除在 Time Machine 备份和病毒检查之外。</p><h2 id="自动化" tabindex="-1"><a class="header-anchor" href="#自动化"><span>自动化</span></a></h2><h3 id="unix-shell-脚本" tabindex="-1"><a class="header-anchor" href="#unix-shell-脚本"><span>Unix Shell 脚本</span></a></h3><p>Shell 脚本可以用于对多个输入值重复相同的操作序列。Unix shell 是一个命令解释器，支持用户定义的变量、条件语句和重复执行循环。脚本通常保存在文件中，并通过文件名引用。</p><p>注释以井号（“<strong>#</strong>”）开头，会被忽略。引用字符串中的引号通过反斜杠（“****”）进行转义。子程序（函数）可以用来收集常见代码或简化脚本的组织。</p><h3 id="合并相邻行的数据" tabindex="-1"><a class="header-anchor" href="#合并相邻行的数据"><span>合并相邻行的数据</span></a></h3><p>给定一个特征键和值的制表符分隔文件，其中每个基因后面跟随其编码区域：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>gene    matK</span></span>
<span class="line"><span>CDS     maturase K</span></span>
<span class="line"><span>gene    ATP2B1</span></span>
<span class="line"><span>CDS     ATPase 1 isoform 2</span></span>
<span class="line"><span>CDS     ATPase 1 isoform 7</span></span>
<span class="line"><span>gene    ps2</span></span>
<span class="line"><span>CDS     peptide synthetase</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>cat</strong> 命令可以将文件内容通过管道传递给一个 Shell 脚本，该脚本一次读取一行数据：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">gene</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">while</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> IFS</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">$&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> read</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> feature</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> product</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [ </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$feature</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;gene&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  then</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    gene</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$product</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  else</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$gene</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">\t</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$product</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  fi</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">done</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结果输出行由 <strong>echo</strong> 命令打印，具有基因名称和后续 CDS 产品名称在单独行的单独列中：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>matK      maturase K</span></span>
<span class="line"><span>ATP2B1    ATPase 1 isoform 2</span></span>
<span class="line"><span>ATP2B1    ATPase 1 isoform 7</span></span>
<span class="line"><span>ps2       peptide synthetase</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>解析脚本，第一行选择用户机器上的 Bash shell：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">#!/bin/bash</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>最新的基因名称存储在&quot;gene&quot;变量中，首先将其初始化为空字符串：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">gene</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>while</strong> 命令按顺序读取输入文件的每一行，<strong>IFS</strong> 表示制表符分隔字段，<strong>read</strong> 将第一个字段保存到&quot;feature&quot;变量中，将剩余文本保存到&quot;product&quot;变量中：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">while</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> IFS</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">$&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> read</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> feature</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> product</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>do</strong> 和 <strong>done</strong> 命令之间的语句对每个输入行执行一次。<strong>if</strong> 语句检索存储在 feature 变量中的当前值（通过在变量名前加上美元符号（<strong>$</strong>）表示），并将其与单词&quot;gene&quot;进行比较：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [ </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$feature</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;gene&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果特征键是&quot;gene&quot;，则运行 <strong>then</strong> 部分，将当前行的&quot;product&quot;值内容复制到持久的&quot;gene&quot;变量中：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">then</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">  gene</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$product</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>否则 <strong>else</strong> 部分打印保存的基因名称和当前的编码区域产品名称：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">  echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$gene</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">\t</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$product</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>以制表符分隔。条件块以 <strong>fi</strong> 指令（&quot;if&quot;的反向）结束：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">fi</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>除了 else，<strong>elif</strong> 命令可以允许一系列互斥的条件测试：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [ </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$feature</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;gene&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">  ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">elif</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [ </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$feature</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;mRNA&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">  ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">elif</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [ </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$feature</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;CDS&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">  ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">  ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">fi</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以将变量设置为括在“<strong>$(</strong>”和“<strong>)</strong>”符号之间的命令结果：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">mrna</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$( </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$product</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;transcript variant&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        sed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;s/^.*transcript \(variant .*\).*$/\1/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> )</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="脚本中的-entrez-direct-命令" tabindex="-1"><a class="header-anchor" href="#脚本中的-entrez-direct-命令"><span>脚本中的 Entrez Direct 命令</span></a></h3><p>EDirect 命令也可以在脚本内运行。保存以下文本：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">printf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Years&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> disease</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">$@</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">  frst</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$( </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">disease</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">0</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> tr</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [a-z] [A-Z] )</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">  printf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\t${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">frst</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">disease</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">done</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">printf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (( </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">yr</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2020</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">yr</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> &gt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1900</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">yr</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> -=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">  printf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">yr</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}s&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> disease</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">$@</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  do</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    val</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$disease</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> [TITL]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      efilter</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -mindate</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">yr</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -maxdate</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;$((</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">yr+9</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">))&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ENTREZ_DIRECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Count</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    )</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">    printf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\t${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">val</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  done</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">  printf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;\n&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">done</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>保存为名为&quot;scan_for_diseases.sh&quot;的文件并执行：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scan_for_diseases.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>允许通过名称调用脚本。传递多个疾病名称作为命令行参数：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">scan_for_diseases.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> diphtheria</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pertussis</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> tetanus</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>返回一个多世纪以来每个疾病的论文计数，按十年分段：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Years    Diph    Pert    Teta</span></span>
<span class="line"><span>2020s    104     281     154</span></span>
<span class="line"><span>2010s    860     2558    1296</span></span>
<span class="line"><span>2000s    892     1968    1345</span></span>
<span class="line"><span>1990s    1150    2662    1617</span></span>
<span class="line"><span>1980s    780     1747    1488</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过管道将表格传递给：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xy-plot</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> diseases.png</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>生成每个疾病每十年的论文数量的图表。</p><p>将数据传递给：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">align-columns</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -h</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -g</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ln</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>右对齐数字数据列，以便于阅读或出版：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Years    Diph    Pert    Teta</span></span>
<span class="line"><span>2020s     104     281     154</span></span>
<span class="line"><span>2010s     860    2558    1296</span></span>
<span class="line"><span>2000s     892    1968    1345</span></span>
<span class="line"><span>1990s    1150    2662    1617</span></span>
<span class="line"><span>1980s     780    1747    1488</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>而将其通过管道传递给：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">transmute</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -t2x</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Set</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rec</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Rec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -header</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>生成自定义 XML 结构，以便 xtract 进行进一步的比较分析。</p><h3 id="时间延迟" tabindex="-1"><a class="header-anchor" href="#时间延迟"><span>时间延迟</span></a></h3><p>Shell 脚本命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sleep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在步骤之间添加一秒钟的延迟，可用于帮助防止高级脚本过度使用服务器。</p><h3 id="xargs-sh-循环" tabindex="-1"><a class="header-anchor" href="#xargs-sh-循环"><span>Xargs/Sh 循环</span></a></h3><p>通过巧妙使用 Unix xargs 和 sh 命令，有时可以避免编写循环数据的脚本。在&quot;sh ‑c&quot;命令字符串中，最后的名称和首字母参数（由&quot;xargs ‑n 2&quot;传递）替换为&quot;$0&quot;和&quot;$1&quot;变量。sh 字符串中的所有命令分别在每个名称上运行：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Garber ED Casadaban MJ Mortimer RK&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xargs</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;esearch -db pubmed -query &quot;$0 $1 [AUTH]&quot; |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">xtract -pattern ENTREZ_DIRECT -lbl &quot;$1 $0&quot; -element Count&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这会生成每个作者的 PubMed 文章计数：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>ED Garber       35</span></span>
<span class="line"><span>MJ Casadaban    46</span></span>
<span class="line"><span>RK Mortimer     85</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="while-循环" tabindex="-1"><a class="header-anchor" href="#while-循环"><span>While 循环</span></a></h3><p>&quot;while&quot; 循环也可以独立处理数据行。给定一个包含属-种名的文件 &quot;organisms.txt&quot;，使用 Unix 的 &quot;cat&quot; 命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> organisms.txt</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>写入文件内容：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Arabidopsis thaliana</span></span>
<span class="line"><span>Caenorhabditis elegans</span></span>
<span class="line"><span>Danio rerio</span></span>
<span class="line"><span>Drosophila melanogaster</span></span>
<span class="line"><span>Escherichia coli</span></span>
<span class="line"><span>Homo sapiens</span></span>
<span class="line"><span>Mus musculus</span></span>
<span class="line"><span>Saccharomyces cerevisiae</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以将其通过管道传递给一个每次读取一行的循环：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">while</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> read</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> org</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> taxonomy</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$org</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> [LNGE] AND family [RANK]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /dev/null</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docsum</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> DocumentSummary</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -lbl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$org</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ScientificName</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Division</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">done</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查找每个生物体的分类学科名称和 BLAST 分部：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Arabidopsis thaliana        Brassicaceae          eudicots</span></span>
<span class="line"><span>Caenorhabditis elegans      Rhabditidae           nematodes</span></span>
<span class="line"><span>Danio rerio                 Cyprinidae            bony fishes</span></span>
<span class="line"><span>Drosophila melanogaster     Drosophilidae         flies</span></span>
<span class="line"><span>Escherichia coli            Enterobacteriaceae    enterobacteria</span></span>
<span class="line"><span>Homo sapiens                Hominidae             primates</span></span>
<span class="line"><span>Mus musculus                Muridae               rodents</span></span>
<span class="line"><span>Saccharomyces cerevisiae    Saccharomycetaceae    ascomycetes</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>（&quot;<strong>&lt; /dev/null</strong>&quot; 输入重定向结构防止 esearch 从 stdin 中“耗尽”剩余行。）</p><h3 id="for-循环" tabindex="-1"><a class="header-anchor" href="#for-循环"><span>For 循环</span></a></h3><p>使用嵌入 &quot;for&quot; 循环的生物体名称可以获得相同的结果：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> org</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  &quot;Arabidopsis thaliana&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  &quot;Caenorhabditis elegans&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  &quot;Danio rerio&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  &quot;Drosophila melanogaster&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  &quot;Escherichia coli&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  &quot;Homo sapiens&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  &quot;Mus musculus&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  &quot;Saccharomyces cerevisiae&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  esearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> taxonomy</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -query</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$org</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> [LNGE] AND family [RANK]&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docsum</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  xtract</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> DocumentSummary</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -lbl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$org</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -element</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ScientificName</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Division</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">done</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="文件探索" tabindex="-1"><a class="header-anchor" href="#文件探索"><span>文件探索</span></a></h3><p>for 循环也可以用于探索计算机的文件系统：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> i</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> *</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$i</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">    echo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">basename</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$i</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  fi</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">done</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>访问当前目录中的每个文件。星号（&quot;*&quot;）字符表示所有文件，可以用任何模式（例如&quot;*.txt&quot;）替换以限制文件搜索。if 语句中的&quot;‑f&quot;操作符可以更改为&quot;‑d&quot;以查找目录而不是文件，&quot;‑s&quot;选择大小大于零的文件。</p><h3 id="分组处理" tabindex="-1"><a class="header-anchor" href="#分组处理"><span>分组处理</span></a></h3><p>EDirect 提供了一个 <strong>join-into-groups-of</strong> 脚本，将唯一标识符或序列登录号的行组合成逗号分隔的组：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">#!/bin/sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xargs</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">$@</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> echo</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;s/ /,/g&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以下示例演示按每次 200 个登录号的分组处理序列记录：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> acc</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">join-into-groups-of</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 200</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xargs</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;epost -db nuccore -format acc -id &quot;$0&quot; |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">elink -target pubmed |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">efetch -format abstract&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="go-语言编程" tabindex="-1"><a class="header-anchor" href="#go-语言编程"><span>Go 语言编程</span></a></h3><p>用编译语言编写的程序被翻译成计算机的本地机器指令代码，并且运行速度比解释脚本快得多，但代价是开发过程中的复杂性增加。</p><p>谷歌的 Go 语言（也称为&quot;golang&quot;）是“一种开源编程语言，使构建简单、可靠和高效的软件变得容易”。Go 消除了维护复杂&quot;make&quot;文件的需要。构建系统完全负责下载外部库包。自动依赖管理跟踪模块版本号以防止版本偏差。</p><p>截至 2020 年，Go 开发过程已经简化到比一些流行的脚本语言更容易使用的程度。</p><p>要构建 Go 程序，必须在计算机上安装最新的 Go 编译器。安装 URL 链接在本文档末尾的文档部分中。</p><h3 id="basecount-go-程序" tabindex="-1"><a class="header-anchor" href="#basecount-go-程序"><span>basecount.go 程序</span></a></h3><p>将 FASTA 数据通过管道传递给 basecount 二进制可执行文件（从下面显示的 basecount.go 源代码文件编译而来）：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -db</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nuccore</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> J01749,U54469</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -format</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> fasta</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> basecount</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>将返回包含一个登录号后跟每个碱基计数的行：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>J01749.1    A 983    C 1210    G 1134    T 1034</span></span>
<span class="line"><span>U54469.1    A 849    C 699     G 585     T 748</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>basecount.go 的完整（未注释）源代码如下所示，并在下文中讨论：</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">package</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#98C379;">eutils</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#98C379;">fmt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#98C379;">os</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#98C379;">sort</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    fsta</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> eutils</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">FASTAConverter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Stdin</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    countLetters</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> func</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">seq</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        counts</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> make</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">rune</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> _</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">base</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> range</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> seq</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">            counts</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">base</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">++</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        var</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> keys</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> []</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">rune</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> ky</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> range</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> counts</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">            keys</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> append</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">ky</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        sort</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Slice</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">j</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> keys</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> keys</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">j</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        fmt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Fprintf</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Stdout</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">%s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> _</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">base</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> range</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> keys</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">            num</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> counts</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">base</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">            fmt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Fprintf</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Stdout</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\t</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">%c</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> %d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">base</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">num</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        fmt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Fprintf</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Stdout</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> fsa</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> range</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> fsta</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        countLetters</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">fsa</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">SeqID</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">fsa</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Sequence</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以使用 Unix 的&quot;time&quot;命令来测量性能：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> basecount </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> NC_000014.fsa</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>该程序在 2.5 秒内读取并统计了现有 FASTA 文件中人类 14 号染色体的 107,043,718 个碱基：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NC_000014.9</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    A</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 26673415</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    C</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 18423758</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    G</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 18559033</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    N</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 16475569</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    T</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 26911943</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">2.287</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="basecount-go-代码审查" tabindex="-1"><a class="header-anchor" href="#basecount-go-代码审查"><span>basecount.go 代码审查</span></a></h3><p>Go 程序以 <strong>package main</strong> 开始，然后 <strong>import</strong> 额外的软件库（许多包含在 Go 中，其他位于如 github.com 的商业存储库中）：</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">package</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#98C379;">eutils</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#98C379;">fmt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#98C379;">os</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#98C379;">sort</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>每个编译的 Go 二进制文件有一个 <strong>main</strong> 函数，这是程序执行开始的地方：</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">() {</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>fsta <strong>变量</strong> 分配给一个数据 <strong>通道</strong>，该通道一次流式传输单个 FASTA 记录：</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    fsta</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> eutils</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">FASTAConverter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Stdin</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>countLetters <strong>子程序</strong> 将使用每个 FASTA 记录的标识符和序列调用：</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    countLetters</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> func</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">seq</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>为每个序列创建一个空的 counts <strong>映射</strong>，并在子程序退出时释放其内存：</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        counts</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> make</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">rune</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>for</strong> 循环在序列字符串的 <strong>范围</strong> 上访问每个序列字母。映射对每个碱基或残基进行计数，使用“<strong>++</strong>”递增字母映射条目的当前值：</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> _</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">base</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> range</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> seq</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">           counts</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">base</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">++</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>（按范围迭代字符串返回位置和字母对。由于代码未使用位置，其值由下划线（“<strong>_</strong>”）字符吸收。）</p><p>映射不会按定义顺序返回，因此映射键加载到一个键 <strong>数组</strong>，然后对其进行排序：</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        var</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> keys</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> []</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">rune</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> ky</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> range</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> counts</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">            keys</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> append</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">ky</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        sort</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Slice</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">j</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> keys</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> keys</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">j</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] })</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>（传递给 sort.Slice 的第二个参数是一个 <strong>匿名</strong> 函数字面量，用于控制排序顺序。它也是一个 <strong>闭包</strong>，隐式继承了封闭函数的 keys 数组。）</p><p>在第一列中打印序列标识符：</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">       fmt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Fprintf</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Stdout</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">%s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>迭代数组按字母顺序打印字母和碱基计数，列之间使用制表符分隔：</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> _</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">base</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> range</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> keys</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">            num</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> counts</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">base</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">            fmt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Fprintf</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Stdout</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\t</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">%c</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> %d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">base</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">num</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在行末打印一个换行符，然后子程序退出，清除映射和数组：</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        fmt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Fprintf</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Stdout</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>main 函数的其余部分使用循环 <strong>排空</strong> fsta 通道，将每个连续 FASTA 记录的标识符和序列字符串传递给 countLetters 函数。main 函数然后以一个最终的右括号结束：</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> fsa</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> range</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> fsta</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        countLetters</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">fsa</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">SeqID</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">fsa</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Sequence</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>请注意，上述处理的人类 14 号染色体序列作为单个连续的 Go 字符串存储在其整个长度中。即使它超过 1.07 亿个字符，输入、访问或内存管理也不需要特殊的编码考虑。</p><h3 id="go-依赖管理" tabindex="-1"><a class="header-anchor" href="#go-依赖管理"><span>Go 依赖管理</span></a></h3><p>EDirect 包括 <strong>eutils</strong> 辅助库的源代码，该库整合了 xtract、transmute 和 rchive 使用的常见函数，包括上面 basecount 程序使用的 FASTA 解析器/流媒体。</p><p>除了大约二十几个 eutils &quot;*.go&quot;文件外，分发还包含用于 eutils 包的&quot;go.mod&quot;和&quot;go.sum&quot;模块文件。它们是在发布到 FTP 站点之前在 eutils 目录中运行&quot;./build.sh&quot;创建的。</p><p>模块提供了一种自动管理外部依赖关系的机制。它们记录了开发过程中由 eutils 源文件导入的包的版本号和校验和。如果以后将 eutils 库合并到其他软件开发项目中，Go 将检索这些包的相同版本以及它们所有的内部支持包。</p><p>使用模块允许外部 Go 包独立发展，按自己的时间表发布具有不兼容函数参数签名的新版本，同时确保这种自然的软件开发周期不会在将来的某个不合时宜的时间打破工作库或应用程序构建。</p><h3 id="编译一个-go-项目" tabindex="-1"><a class="header-anchor" href="#编译一个-go-项目"><span>编译一个 Go 项目</span></a></h3><p>每个项目通常位于其自己的目录中。源代码可以拆分为多个文件，构建过程通常将所有的&quot;*.go&quot;文件一起编译。</p><p>创建一个名为&quot;basecount&quot;的新目录：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ~</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> basecount</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>并将 <strong>basecount.go</strong> 源代码文件复制到该目录中。</p><p>然后通过运行以下命令编译程序：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> basecount</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> init</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> basecount</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;replace eutils =&gt; </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/edirect/eutils&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> go.mod</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> eutils</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> tidy</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> build</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>但为了方便起见，这些命令通常被合并到一个构建脚本中。为此，将以下脚本保存到与 basecount.go 相同目录中的一个名为 <strong>build.sh</strong> 的文件中：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;go.mod&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">then</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  go</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> init</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;$( </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">basename</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $PWD</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> )&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">  echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;replace eutils =&gt; </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/edirect/eutils&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> go.mod</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  go</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> eutils</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;go.sum&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">then</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  go</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> tidy</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> build</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>要编译可执行文件，进入 basecount 目录，设置 Unix 执行权限位，并运行构建脚本：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> basecount</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> build.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">./build.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>构建脚本运行 &quot;<strong>go mod init</strong>&quot; 生成 &quot;go.mod&quot;，如果任何模块文件尚不存在，则运行 &quot;<strong>go mod tidy</strong>&quot; 生成 &quot;go.sum&quot;。</p><p>（&quot;$( basename $PWD )&quot; 结构将可执行文件的默认名称设置为与父目录匹配，无需为每个项目手动自定义 &quot;go mod init&quot; 行。）</p><p>（&quot;replace eutils =&gt; $HOME/edirect/eutils&quot; 结构计算在标准 EDirect 安装位置中查找本地 eutils 源代码目录的路径。）</p><p>&quot;<strong>go build</strong>&quot; 指令编译应用程序和所有依赖库的源文件（缓存编译的目标文件以供以后更快使用）。然后它将这些文件链接到一个可以在开发机器上运行的二进制可执行文件中。</p><p>您可以选择特定的输入文件，更改可执行程序的名称，并使用 &quot;go build&quot; 的其他参数进行不同平台的交叉编译：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">env</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GOOS=darwin</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GOARCH=arm64</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> go</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> basecount.Silicon</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> basecount.go</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>可以通过将 &quot;go build&quot; 行更改为以下内容，在单个目录中构建多个项目：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> fl</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> *.go</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  go</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">fl</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">%</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$fl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">done</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="python-集成" tabindex="-1"><a class="header-anchor" href="#python-集成"><span>Python 集成</span></a></h3><p>在 Python 脚本中控制 EDirect 非常简单，借助包含在 EDirect 归档中的 <strong>edirect.py</strong> 库文件：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> subprocess</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> shlex</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> execute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">cmmd</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> isinstance</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(cmmd, </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        cmmd </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> shlex.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(cmmd)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    res </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> subprocess.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(cmmd, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">input</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">data,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">                         capture_output</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">                         encoding</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;UTF-8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> res.stdout.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">strip</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> pipeline</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">cmmds</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> flatten</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">cmmd</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> isinstance</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(cmmd, </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> cmmd</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> shlex.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(cmmd)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> not</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> isinstance</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(cmmds, </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        cmmds </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39; | &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(flatten, cmmds))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    res </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> subprocess.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(cmmds, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">input</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">data, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">shell</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">                         capture_output</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">                         encoding</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;UTF-8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> res.stdout.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">strip</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> efetch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">db</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">format</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">mode</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    cmmd </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;efetch&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;-db&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, db, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;-id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;-format&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">format</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> mode:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        cmmd </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> cmmd </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;-mode&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, mode)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> execute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(cmmd)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在程序的开头，用以下命令导入 edirect 模块：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">#!/usr/bin/env python3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sys</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> os</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> shutil</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">sys.path.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">insert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, os.path.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">dirname</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(shutil.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">which</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;xtract&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> edirect</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>（请注意，导入命令使用 &quot;edirect&quot;，不带 &quot;.py&quot; 扩展名。）</p><p><strong>edirect.execute</strong> 的第一个参数是您希望运行的 Unix 命令。它可以作为字符串提供：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">edirect.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">execute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;efetch -db nuccore -id NM_000518.5 -format fasta&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或者作为字符串序列，这允许用变量的值替换特定参数：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">accession </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;NM_000518.5&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">edirect.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">execute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;efetch&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;-db&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;nuccore&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;-id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, accession, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;-format&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;fasta&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>可选的第二个参数接受要通过 stdin 传递给 Unix 命令的数据。通过在下一个命令中使用前一个命令的结果作为数据参数，可以将多个步骤链接在一起：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">seq </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> edirect.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">execute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;efetch -db nuccore -id NM_000518.5 -format fasta&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">sub </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> edirect.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">execute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;transmute -extract -1-based -loc 51..494&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, seq)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">prt </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> edirect.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">execute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;transmute&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;-cds2prot&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;-every&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;-trim&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">), sub)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>传递给脚本本身的数据通过使用 &quot;<strong>sys.stdin.read()</strong>&quot; 作为第二个参数来中继。</p><p>或者，<strong>edirect.pipeline</strong> 函数可以接受一个单独命令字符串的序列，以便一起通过管道执行：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">edirect.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">pipeline</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;efetch -db protein -id NP_000509.1 -format gp&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                  &#39;xtract -insd Protein mol_wt sub_sequence&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>或者执行包含多个管道命令的字符串：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">edirect.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">pipeline</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;&#39;&#39;efetch -db nuccore -id J01749 -format fasta |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  transmute -replace -offset 1907 -delete GG -insert TC |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  transmute -search -circular GGATCC:BamHI GAATTC:EcoRI CTGCAG:PstI |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  align-columns -g 4 -a rl&#39;&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>隐藏细节（例如，isinstance，shlex.join，shlex.split 和 subprocess.run）在通用模块中意味着对编程不熟悉的生物学家可以从他们的第一个 Python 程序中控制整个分析管道。</p><p>一个使用命名参数的 <strong>edirect.efetch</strong> 快捷方式也可用：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">edirect.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">efetch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">db</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;nuccore&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">id</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;NM_000518.5&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">format</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;fasta&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>要运行自定义 shell 脚本，请确保设置了执行权限位，提供完整的执行路径，并在其后跟任何命令行参数：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">db </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;pubmed&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">res </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> edirect.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">execute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;./datefields.sh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, db), </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="访问-ncbi-c-工具包" tabindex="-1"><a class="header-anchor" href="#访问-ncbi-c-工具包"><span>访问 NCBI C++工具包</span></a></h3><p>可以使用 <strong>ncbi::edirect::Execute</strong> 函数从 NCBI C++工具包调用 EDirect 脚本：</p><div class="language-c++ line-numbers-mode" data-highlighter="shiki" data-ext="c++" data-title="c++" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &lt;misc/eutils_client/eutils_client.hpp&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>函数签名有单独的参数用于脚本名称及其命令行参数，后跟一个可选字符串，通过 stdin 传递：</p><div class="language-c++ line-numbers-mode" data-highlighter="shiki" data-ext="c++" data-title="c++" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Execute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> cmmd</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> vector</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> args</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> kEmptyStr</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过使用前一个结果作为下一个命令中的数据参数来链接多个步骤：</p><div class="language-c++ line-numbers-mode" data-highlighter="shiki" data-ext="c++" data-title="c++" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">string seq </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> ncbi</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;">edirect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">::Execute</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  ( </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;efetch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, { </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-db&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;nuccore&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;NM_000518.5&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-format&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;fasta&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> } );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">string sub </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> ncbi</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;">edirect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">::Execute</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  ( </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;transmute&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, { </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-extract&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-1-based&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-loc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;51..494&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> }, seq );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">string prt </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> ncbi</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;">edirect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">::Execute</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  ( </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;transmute&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, { </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-cds2prot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-every&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-trim&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> }, sub );</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>参数向量也可以在程序控制下动态生成：</p><div class="language-c++ line-numbers-mode" data-highlighter="shiki" data-ext="c++" data-title="c++" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">vector</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">string</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> args;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">push_back</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-db&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">push_back</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;pubmed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">push_back</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-format&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">push_back</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;abstract&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">push_back</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">push_back</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(uid);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以在带有-asn 参数的 CPub 对象引用上执行引用匹配：</p><div class="language-c++ line-numbers-mode" data-highlighter="shiki" data-ext="c++" data-title="c++" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">string uid </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> ncbi</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;">edirect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">::Execute</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  ( </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;cit2pmid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, { </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-asn&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">FORMAT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(MSerial_FlatAsnText </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> pub) } );</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>或者可以使用-title、-author、-journal、-volume、-issue、-pages 和-year 参数。</p><p>如果找到匹配的 PMID，可以将其作为 PubmedArticle XML 检索并转换为 Pubmed-entry ASN.1：</p><div class="language-c++ line-numbers-mode" data-highlighter="shiki" data-ext="c++" data-title="c++" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">string xml </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> ncbi</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;">edirect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">::Execute</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  ( </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;efetch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, { </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-db&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;pubmed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-format&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;xml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> }, uid );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">string asn </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> ncbi</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;">edirect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">::Execute</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  ( </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;pma2pme&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, { </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-std&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> }, xml );</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后可以使用对象加载器将 ASN.1 字符串读入内存以进行进一步处理：</p><div class="language-c++ line-numbers-mode" data-highlighter="shiki" data-ext="c++" data-title="c++" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &lt;objects/pubmed/Pubmed_entry.hpp&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">unique_ptr</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">CObjectIStream</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> stm;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">stm</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">reset</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ( </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;">CObjectIStream</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">::CreateFromBuffer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  ( eSerial_AsnText, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">asn</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(), </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">asn</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">() ) );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">CRef</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">CPubmed_entry</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">pme</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ( </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> CPubmed_entry</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">stm</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Read</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ( </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ObjectInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ( </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">pme ) );</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="其他示例" tabindex="-1"><a class="header-anchor" href="#其他示例"><span>其他示例</span></a></h2><p>EDirect 示例演示如何在几个 Entrez 数据库中回答临时问题。详细示例已移至单独的文档，可以点击 <a href="https://www.ncbi.nlm.nih.gov/books/n/helpeutils/example6/" target="_blank" rel="noopener noreferrer">附加示例</a> 链接查看。</p><h2 id="附录" tabindex="-1"><a class="header-anchor" href="#附录"><span>附录</span></a></h2><h3 id="命令行参数" tabindex="-1"><a class="header-anchor" href="#命令行参数"><span>命令行参数</span></a></h3><p>每个 EDirect 程序都有一个 <strong>-help</strong> 命令，它打印有关可用参数的详细信息。这些参数包括 esearch 的 <strong>-sort</strong> 值、efetch 的 <strong>-format</strong> 和 <strong>-mode</strong> 选择，以及 elink 的 <strong>-cmd</strong> 选项。</p><h3 id="einfo-数据" tabindex="-1"><a class="header-anchor" href="#einfo-数据"><span>Einfo 数据</span></a></h3><p>Einfo 字段数据包含多个术语列表索引属性的状态标志：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;Field&gt;</span></span>
<span class="line"><span>  &lt;Name&gt;ALL&lt;/Name&gt;</span></span>
<span class="line"><span>  &lt;FullName&gt;All Fields&lt;/FullName&gt;</span></span>
<span class="line"><span>  &lt;Description&gt;All terms from all searchable fields&lt;/Description&gt;</span></span>
<span class="line"><span>  &lt;TermCount&gt;280005319&lt;/TermCount&gt;</span></span>
<span class="line"><span>  &lt;IsDate&gt;N&lt;/IsDate&gt;</span></span>
<span class="line"><span>  &lt;IsNumerical&gt;N&lt;/IsNumerical&gt;</span></span>
<span class="line"><span>  &lt;SingleToken&gt;N&lt;/SingleToken&gt;</span></span>
<span class="line"><span>  &lt;Hierarchy&gt;N&lt;/Hierarchy&gt;</span></span>
<span class="line"><span>  &lt;IsHidden&gt;N&lt;/IsHidden&gt;</span></span>
<span class="line"><span>  &lt;IsTruncatable&gt;Y&lt;/IsTruncatable&gt;</span></span>
<span class="line"><span>  &lt;IsRangable&gt;N&lt;/IsRangable&gt;</span></span>
<span class="line"><span>&lt;/Field&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="unix-实用程序" tabindex="-1"><a class="header-anchor" href="#unix-实用程序"><span>Unix 实用程序</span></a></h3><p>下面展示了几类有用的 Unix 文本处理过滤器，并选择了一些参数：</p><p>按内容处理：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sort</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    排序文本行</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    忽略大小写</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    数字比较</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -r</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    反向结果顺序</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -k</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    字段键（开始，结束或第一个）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -u</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    具有相同键的唯一行</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -b</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    忽略前导空格</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    稳定排序</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    指定字段分隔符</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">uniq</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    删除重复行</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -c</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    计数出现次数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -i</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    忽略大小写</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    忽略前</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 个字段</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    忽略前</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 个字符</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    只输出重复行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -u</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    只输出非重复行</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    使用正则表达式匹配模式</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -i</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    忽略大小写</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -v</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    反转搜索</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -w</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    将表达式作为单词搜索</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -x</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    将表达式作为整行搜索</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    指定单个模式</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -c</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    只计数匹配数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    打印行号</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -A</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    匹配后面的行数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -B</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    匹配前面的行数</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>正则表达式：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">字符</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">  .</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     任意单个字符（换行符除外）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  \w</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    字母</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [A-Za-z]、数字 [0-9] 或下划线 (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">_</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  \s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    空白（空格或制表符）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  \</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     转义特殊字符</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  []    </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">匹配任何包含的字符</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">位置</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  ^</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     行首</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  $</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     行尾</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  \b</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    单词边界</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">重复匹配</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  ?</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 或</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 次</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  *</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 次或多次</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  +</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 次或多次</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  {</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">n}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   恰好</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 次</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">转义序列</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  \n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    换行符</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  \t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    制表符</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改内容：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">         替换文本字符串</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        指定单个表达式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  s///</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      替换</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      /g</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    全局</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      /I</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    不区分大小写</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      /p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    打印</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">tr</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          翻译字符</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        删除字符</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        压缩字符运行</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">rev</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">         反转行上的字符</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>格式内容：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">column</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  按内容宽度对齐列</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    指定字段分隔符</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    创建表格</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">expand</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  将列对齐到指定位置</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    制表符位置</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">fold</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    在特定宽度处换行</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -w</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    行宽</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    在空格处换行</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>按位置过滤：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">cut</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     移除行的部分内容</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -c</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    要保留的字符</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    要保留的字段</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    指定字段分隔符</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    抑制没有分隔符的行</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">head</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    打印前几行</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    行数</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">tail</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    打印后几行</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    行数</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>杂项：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">wc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        计算字数、行数或字符数</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -c</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      字符数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -l</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      行数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -w</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      单词数</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">xargs</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     构造参数</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      每批单词数</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mktemp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    创建临时文件</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">join</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      按共同字段连接文件中的列</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">paste</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     按行号合并文件中的列</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>文件压缩：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     归档文件</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -c</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    创建归档</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    输出文件名</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -z</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    使用</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gzip</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 压缩归档</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">gzip</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    压缩文件</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -k</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    保留原始文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -9</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    最佳压缩</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">unzip</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   解压</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .zip</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 归档</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    输出到</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> stdout</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">gzcat</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   解压</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .gz</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 归档并输出到</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> stdout</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>目录和文件导航：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      更改目录</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  /</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     根目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  ~</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     主目录</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">  .</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     当前目录</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">  ..</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    上级目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     上一个目录</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ls</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      列出文件名</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    每行一个条目</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -a</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    显示以点</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (.) 开头的文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -l</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    以长格式列出</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -R</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    递归探索子目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -S</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    按大小排序文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    按最近修改排序</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">  .</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    当前和上级目录</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">pwd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     打印工作目录路径</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>文件重定向：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">         从文件读取 stdin</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">         重定向 stdout 到文件</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        追加到文件</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">2&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        重定向 stderr</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">2&gt;&amp;1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      将 stderr 合并到 stdout</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">         程序间的管道</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&lt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">cmd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    执行命令，将结果作为文件读取</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Shell 脚本变量：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">$0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      脚本名称</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$n</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      第 n 个参数</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">$#</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      参数个数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">$*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    参数列表作为一个参数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">$@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    参数列表作为单独的参数</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">$?</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      上一个命令的退出状态</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Shell 脚本测试：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      目录存在</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      文件存在</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      文件不为空</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      字符串长度非零</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-x</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      文件可执行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">-z</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      变量为空或未设置</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Shell 脚本选项：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        设置可选行为</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       出错后立即退出</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -u</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       将未设置的变量视为错误</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  -x</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       跟踪命令和参数</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>文件和目录提取：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        BAS</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$(</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">printf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pubmed%03d</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $n</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        DIR</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">dirname</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">$0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        FIL</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">basename</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">$0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>移除前缀：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        FILE</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;example.tar.gz&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">#       ${FILE#.*}  -&gt; tar.gz</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">##      ${FILE##.*} -&gt; gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>移除后缀：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        FILE</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;example.tar.gz&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        TYPE</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;http://identifiers.org/uniprot_enzymes/&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">       ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">FILE</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}  -</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> example.tar</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">TYPE</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">%/</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}   -</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> http://identifiers.org/uniprot_enzymes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">%%</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">FILE</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">%%</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">} -</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> example</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>循环结构：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        while</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> IFS</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">$&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> read</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> sym</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> HBB</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> BRCA2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CFTR</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> RAG1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> col</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">$@</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> yr</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">1960..2020}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> i</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">seq</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $first</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $incr</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $last</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> fl</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> *.xml.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以通过输入 &quot;man&quot; 后跟命令名称来获取带有详细说明和示例的附加文档。</p><h2 id="发行说明" tabindex="-1"><a class="header-anchor" href="#发行说明"><span>发行说明</span></a></h2><p>EDirect 发行说明描述了从最初的 Perl 实现到 Go 和 Shell 脚本重构的增量开发和重构历史。详细的说明已移至单独的文档，可以点击 <a href="https://www.ncbi.nlm.nih.gov/books/n/helpeutils/release6/" target="_blank" rel="noopener noreferrer">发行说明</a> 链接查看。</p><h2 id="获取更多信息" tabindex="-1"><a class="header-anchor" href="#获取更多信息"><span>获取更多信息</span></a></h2><h3 id="公告邮件列表" tabindex="-1"><a class="header-anchor" href="#公告邮件列表"><span>公告邮件列表</span></a></h3><p>NCBI 向 <a href="https://www.ncbi.nlm.nih.gov/mailman/listinfo/utilities-announce/" target="_blank" rel="noopener noreferrer">utilities-announce 公告邮件列表</a> 发布有关 E-utilities 的常规公告。此邮件列表仅为公告列表；个人订阅者<strong>不能</strong>向列表发送邮件。此外，订阅者列表是私有的，仅用于向列表成员提供公告。该列表每月接收约一个帖子。请在上面的链接处订阅。</p><h3 id="参考文献" tabindex="-1"><a class="header-anchor" href="#参考文献"><span>参考文献</span></a></h3><p>史密森尼在线收藏数据库由国家自然历史博物馆提供，史密森尼学会，10th and Constitution Ave. N.W., Washington, DC 20560-0193. https://collections.nmnh.si.edu/.</p><p>den Dunnen JT, Dalgleish R, Maglott DR, Hart RK, Greenblatt MS, McGowan-Jordan J, Roux AF, Smith T, Antonarakis SE, Taschner PE. HGVS Recommendations for the Description of Sequence Variants: 2016 Update. Hum Mutat. 2016. https://doi.org/10.1002/humu.22981. (PMID 26931183.)</p><p>Holmes JB, Moyer E, Phan L, Maglott D, Kattman B. SPDI: data model for variants and applications at NCBI. Bioinformatics. 2020. https://doi.org/10.1093/bioinformatics/btz856. (PMID 31738401.)</p><p>Hutchins BI, Baker KL, Davis MT, Diwersy MA, Haque E, Harriman RM, Hoppe TA, Leicht SA, Meyer P, Santangelo GM. The NIH Open Citation Collection: A public access, broad coverage resource. PLoS Biol. 2019. https://doi.org/10.1371/journal.pbio.3000385. (PMID 31600197.)</p><p>Kim S, Thiessen PA, Cheng T, Yu B, Bolton EE. An update on PUG-REST: RESTful interface for programmatic access to PubChem. Nucleic Acids Res. 2018. https://doi.org/10.1093/nar/gky294. (PMID 29718389.)</p><p>Mitchell JA, Aronson AR, Mork JG, Folk LC, Humphrey SM, Ward JM. Gene indexing: characterization and analysis of NLM&#39;s GeneRIFs. AMIA Annu Symp Proc. 2003:460-4. (PMID 14728215.)</p><p>Ostell JM, Wheelan SJ, Kans JA. The NCBI data model. Methods Biochem Anal. 2001. https://doi.org/10.1002/0471223921.ch2. (PMID 11449725.)</p><p>Schuler GD, Epstein JA, Ohkawa H, Kans JA. Entrez: molecular biology database and retrieval system. Methods Enzymol. 1996. https://doi.org/10.1016/s0076-6879(96)66012-1. (PMID 8743683.)</p><p>Wei C-H, Allot A, Leaman R, Lu Z. PubTator central: automated concept annotation for biomedical full text articles. Nucleic Acids Res. 2019. https://doi.org/10.1093/nar/gkz389. (PMID 31114887.)</p><p>Wu C, Macleod I, Su AI. BioGPS and MyGene.info: organizing online, gene-centric information. Nucleic Acids Res. 2013. https://doi.org/10.1093/nar/gks1114. (PMID 23175613.)</p><h3 id="文档" tabindex="-1"><a class="header-anchor" href="#文档"><span>文档</span></a></h3><p>EDirect 导航功能调用基于 URL 的 Entrez 编程实用程序：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>https://www.ncbi.nlm.nih.gov/books/NBK25501</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>NCBI 数据库资源由以下链接描述：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>https://www.ncbi.nlm.nih.gov/pubmed/37994677</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>有关如何获取 API Key 的信息在此 NCBI 博客文章中描述：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>https://ncbiinsights.ncbi.nlm.nih.gov/2017/11/02/new-api-keys-for-the-e-utilities</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>面向非程序员的 Shell 脚本介绍在：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>https://missing.csail.mit.edu/2020/shell-tools/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>由 Go 语言的创建者撰写的有关 Go 编程语言的文章在：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>https://cacm.acm.org/research/the-go-programming-language-and-environment/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>关于 Go 设计哲学和回顾经验的讲座记录在：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>https://commandcenter.blogspot.com/2012/06/less-is-exponentially-more.html</span></span>
<span class="line"><span></span></span>
<span class="line"><span>https://commandcenter.blogspot.com/2024/01/what-we-got-right-what-we-got-wrong.html</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下载和安装 Go 编译器的说明在：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>https://golang.org/doc/install#download</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>附加 NCBI 网站和数据使用政策及免责声明信息在：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>https://www.ncbi.nlm.nih.gov/home/about/policies/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="公共领域声明" tabindex="-1"><a class="header-anchor" href="#公共领域声明"><span>公共领域声明</span></a></h3><p>适用于 EDirect 的 NCBI 公共领域声明如下：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>                 公共领域声明</span></span>
<span class="line"><span>             国家生物技术信息中心</span></span>
<span class="line"><span></span></span>
<span class="line"><span>根据美国版权法的条款，这个软件/数据库是“美国政府作品”。它是作为作者的官方职责的一部分编写的，因此不能被版权保护。这个软件/数据库可供公众免费使用。国家医学图书馆和美国政府对其使用或复制没有任何限制。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>尽管已尽一切合理努力确保软件和数据的准确性和可靠性，但 NLM 和美国政府不对使用该软件或数据可能获得的性能或结果作出任何保证。NLM 和美国政府对性能、适销性或特定用途适用性的明示或暗示保证不承担任何责任。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在基于该材料的任何工作或产品中，请引用作者。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="获取帮助" tabindex="-1"><a class="header-anchor" href="#获取帮助"><span>获取帮助</span></a></h3><p>有关搜索查询、数据库索引、字段限制和数据库内容的更多信息，请参阅 <a href="https://www.ncbi.nlm.nih.gov/books/n/helppubmed/pubmedhelp/" target="_blank" rel="noopener noreferrer">PubMed</a> 和 <a href="https://www.ncbi.nlm.nih.gov/books/n/helpentrez/EntrezHelp/" target="_blank" rel="noopener noreferrer">Entrez</a> 帮助文档。</p><p>关于 EUtility 程序的建议、评论和问题可以发送到 <a href="mailto:dev@null" target="_blank" rel="noopener noreferrer">vog.hin.mln.ibcn@seitilitue</a>。</p></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/WhyLIM/E-utilities_zh-CN/edit/main/src/E-utilities_zh-CN/06-E-utilities on the Unix Command Line_zh-CN.md" aria-label="在 GitHub 上编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><!----></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: mli.bio@outlook.com">Mli-TB</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/E-utilities_zh-CN/E-utilities_zh-CN/05-The%20E-utility%20Web%20Service%20(SOAP)_zh-CN.html" aria-label="E-utility Web 服务（SOAP）"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->E-utility Web 服务（SOAP）</div></a><a class="route-link auto-link next" href="/E-utilities_zh-CN/E-utilities_zh-CN/07-Entrez%20Direct%20Examples_zh-CN.html" aria-label="Entrez Direct 示例"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">Entrez Direct 示例<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">开发快乐 :D</div><div class="vp-copyright">Copyright © 2024 WhyLIM </div></footer></div><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/E-utilities_zh-CN/assets/app-BSJRkk3t.js" defer></script>
  </body>
</html>
